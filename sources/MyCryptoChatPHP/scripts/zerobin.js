(function(global){var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b64charcodes=function(){var a=[];var codeA="A".charCodeAt(0);var codea="a".charCodeAt(0);var code0="0".charCodeAt(0);for(var i=0;i<26;i++){a.push(codeA+i);}for(var i=0;i<26;i++){a.push(codea+i);}for(var i=0;i<10;i++){a.push(code0+i);}a.push("+".charCodeAt(0));a.push("/".charCodeAt(0));return a;}();var b64tab=function(bin){var t={};for(var i=0,l=bin.length;i<l;i++){t[bin.charAt(i)]=i;}return t;}(b64chars);var stringToArray=function(s){var a=[];for(var i=0,l=s.length;i<l;i++){a[i]=s.charCodeAt(i);}return a;};var convertUTF8ArrayToBase64=function(bin){var padlen=0;while(bin.length%3){bin.push(0);padlen++;}var b64=[];for(var i=0,l=bin.length;i<l;i+=3){var c0=bin[i],c1=bin[i+1],c2=bin[i+2];if(c0>=256||c1>=256||c2>=256){throw"unsupported character found";}var n=(c0<<16)|(c1<<8)|c2;b64.push(b64charcodes[n>>>18],b64charcodes[(n>>>12)&63],b64charcodes[(n>>>6)&63],b64charcodes[n&63]);}while(padlen--){b64[b64.length-padlen-1]="=".charCodeAt(0);}return chunkStringFromCharCodeApply(b64);};var convertBase64ToUTF8Array=function(b64){b64=b64.replace(/[^A-Za-z0-9+\/]+/g,"");var bin=[];var padlen=b64.length%4;for(var i=0,l=b64.length;i<l;i+=4){var n=((b64tab[b64.charAt(i)]||0)<<18)|((b64tab[b64.charAt(i+1)]||0)<<12)|((b64tab[b64.charAt(i+2)]||0)<<6)|((b64tab[b64.charAt(i+3)]||0));bin.push((n>>16),((n>>8)&255),(n&255));}bin.length-=[0,0,2,1][padlen];return bin;};var convertUTF16ArrayToUTF8Array=function(uni){var bin=[];for(var i=0,l=uni.length;i<l;i++){var n=uni[i];if(n<128){bin.push(n);}else{if(n<2048){bin.push(192|(n>>>6),128|(n&63));}else{bin.push(224|((n>>>12)&15),128|((n>>>6)&63),128|(n&63));}}}return bin;};var convertUTF8ArrayToUTF16Array=function(bin){var uni=[];for(var i=0,l=bin.length;i<l;i++){var c0=bin[i];if(c0<128){uni.push(c0);}else{var c1=bin[++i];if(c0<224){uni.push(((c0&31)<<6)|(c1&63));}else{var c2=bin[++i];uni.push(((c0&15)<<12)|((c1&63)<<6)|(c2&63));}}}return uni;};var convertUTF8StringToBase64=function(bin){return convertUTF8ArrayToBase64(stringToArray(bin));};var convertBase64ToUTF8String=function(b64){return chunkStringFromCharCodeApply(convertBase64ToUTF8Array(b64));};var convertUTF8StringToUTF16Array=function(bin){return convertUTF8ArrayToUTF16Array(stringToArray(bin));};var convertUTF8ArrayToUTF16String=function(bin){return chunkStringFromCharCodeApply(convertUTF8ArrayToUTF16Array(bin));};var convertUTF8StringToUTF16String=function(bin){return chunkStringFromCharCodeApply(convertUTF8ArrayToUTF16Array(stringToArray(bin)));};var convertUTF16StringToUTF8Array=function(uni){return convertUTF16ArrayToUTF8Array(stringToArray(uni));};var convertUTF16ArrayToUTF8String=function(uni){return chunkStringFromCharCodeApply(convertUTF16ArrayToUTF8Array(uni));};var convertUTF16StringToUTF8String=function(uni){return chunkStringFromCharCodeApply(convertUTF16ArrayToUTF8Array(stringToArray(uni)));};var chunkStringFromCharCodeApply=function(arr){var strs=[],i;for(i=0;i<arr.length;i+=65536){strs.push(String.fromCharCode.apply(String,arr.slice(i,i+65536)));}return strs.join("");};if(global.btoa){var btoa=global.btoa;var convertUTF16StringToBase64=function(uni){return btoa(convertUTF16StringToUTF8String(uni));};}else{var btoa=convertUTF8StringToBase64;var convertUTF16StringToBase64=function(uni){return convertUTF8ArrayToBase64(convertUTF16StringToUTF8Array(uni));};}if(global.atob){var atob=global.atob;var convertBase64ToUTF16String=function(b64){return convertUTF8StringToUTF16String(atob(b64));};}else{var atob=convertBase64ToUTF8String;var convertBase64ToUTF16String=function(b64){return convertUTF8ArrayToUTF16String(convertBase64ToUTF8Array(b64));};}global.Base64={convertUTF8ArrayToBase64:convertUTF8ArrayToBase64,convertByteArrayToBase64:convertUTF8ArrayToBase64,convertBase64ToUTF8Array:convertBase64ToUTF8Array,convertBase64ToByteArray:convertBase64ToUTF8Array,convertUTF16ArrayToUTF8Array:convertUTF16ArrayToUTF8Array,convertUTF16ArrayToByteArray:convertUTF16ArrayToUTF8Array,convertUTF8ArrayToUTF16Array:convertUTF8ArrayToUTF16Array,convertByteArrayToUTF16Array:convertUTF8ArrayToUTF16Array,convertUTF8StringToBase64:convertUTF8StringToBase64,convertBase64ToUTF8String:convertBase64ToUTF8String,convertUTF8StringToUTF16Array:convertUTF8StringToUTF16Array,convertUTF8ArrayToUTF16String:convertUTF8ArrayToUTF16String,convertByteArrayToUTF16String:convertUTF8ArrayToUTF16String,convertUTF8StringToUTF16String:convertUTF8StringToUTF16String,convertUTF16StringToUTF8Array:convertUTF16StringToUTF8Array,convertUTF16StringToByteArray:convertUTF16StringToUTF8Array,convertUTF16ArrayToUTF8String:convertUTF16ArrayToUTF8String,convertUTF16StringToUTF8String:convertUTF16StringToUTF8String,convertUTF16StringToBase64:convertUTF16StringToBase64,convertBase64ToUTF16String:convertBase64ToUTF16String,fromBase64:convertBase64ToUTF8String,toBase64:convertUTF8StringToBase64,atob:atob,btoa:btoa,utob:convertUTF16StringToUTF8String,btou:convertUTF8StringToUTF16String,encode:convertUTF16StringToBase64,encodeURI:function(u){return convertUTF16StringToBase64(u).replace(/[+\/]/g,function(m0){return m0=="+"?"-":"_";}).replace(/=+$/,"");},decode:function(a){return convertBase64ToUTF16String(a.replace(/[-_]/g,function(m0){return m0=="-"?"+":"/";}));}};})(this);(function(){var zip_WSIZE=32768;var zip_STORED_BLOCK=0;var zip_STATIC_TREES=1;var zip_DYN_TREES=2;var zip_DEFAULT_LEVEL=6;var zip_FULL_SEARCH=true;var zip_INBUFSIZ=32768;var zip_INBUF_EXTRA=64;var zip_OUTBUFSIZ=1024*8;var zip_window_size=2*zip_WSIZE;var zip_MIN_MATCH=3;var zip_MAX_MATCH=258;var zip_BITS=16;var zip_LIT_BUFSIZE=8192;var zip_HASH_BITS=13;if(zip_LIT_BUFSIZE>zip_INBUFSIZ){alert("error: zip_INBUFSIZ is too small");}if((zip_WSIZE<<1)>(1<<zip_BITS)){alert("error: zip_WSIZE is too large");}if(zip_HASH_BITS>zip_BITS-1){alert("error: zip_HASH_BITS is too large");}if(zip_HASH_BITS<8||zip_MAX_MATCH!=258){alert("error: Code too clever");}var zip_DIST_BUFSIZE=zip_LIT_BUFSIZE;var zip_HASH_SIZE=1<<zip_HASH_BITS;var zip_HASH_MASK=zip_HASH_SIZE-1;var zip_WMASK=zip_WSIZE-1;var zip_NIL=0;var zip_TOO_FAR=4096;var zip_MIN_LOOKAHEAD=zip_MAX_MATCH+zip_MIN_MATCH+1;var zip_MAX_DIST=zip_WSIZE-zip_MIN_LOOKAHEAD;var zip_SMALLEST=1;var zip_MAX_BITS=15;var zip_MAX_BL_BITS=7;var zip_LENGTH_CODES=29;var zip_LITERALS=256;var zip_END_BLOCK=256;var zip_L_CODES=zip_LITERALS+1+zip_LENGTH_CODES;var zip_D_CODES=30;var zip_BL_CODES=19;var zip_REP_3_6=16;var zip_REPZ_3_10=17;var zip_REPZ_11_138=18;var zip_HEAP_SIZE=2*zip_L_CODES+1;var zip_H_SHIFT=parseInt((zip_HASH_BITS+zip_MIN_MATCH-1)/zip_MIN_MATCH);var zip_free_queue;var zip_qhead,zip_qtail;var zip_initflag;var zip_outbuf=null;var zip_outcnt,zip_outoff;var zip_complete;var zip_window;var zip_d_buf;var zip_l_buf;var zip_prev;var zip_bi_buf;var zip_bi_valid;var zip_block_start;var zip_ins_h;var zip_hash_head;var zip_prev_match;var zip_match_available;var zip_match_length;var zip_prev_length;var zip_strstart;var zip_match_start;var zip_eofile;var zip_lookahead;var zip_max_chain_length;var zip_max_lazy_match;var zip_compr_level;var zip_good_match;var zip_nice_match;var zip_dyn_ltree;var zip_dyn_dtree;var zip_static_ltree;var zip_static_dtree;var zip_bl_tree;var zip_l_desc;var zip_d_desc;var zip_bl_desc;var zip_bl_count;var zip_heap;var zip_heap_len;var zip_heap_max;var zip_depth;var zip_length_code;var zip_dist_code;var zip_base_length;var zip_base_dist;var zip_flag_buf;var zip_last_lit;var zip_last_dist;var zip_last_flags;var zip_flags;var zip_flag_bit;var zip_opt_len;var zip_static_len;var zip_deflate_data;var zip_deflate_pos;var zip_DeflateCT=function(){this.fc=0;this.dl=0;};var zip_DeflateTreeDesc=function(){this.dyn_tree=null;this.static_tree=null;this.extra_bits=null;this.extra_base=0;this.elems=0;this.max_length=0;this.max_code=0;};var zip_DeflateConfiguration=function(a,b,c,d){this.good_length=a;this.max_lazy=b;this.nice_length=c;this.max_chain=d;};var zip_DeflateBuffer=function(){this.next=null;this.len=0;this.ptr=new Array(zip_OUTBUFSIZ);this.off=0;};var zip_extra_lbits=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0);var zip_extra_dbits=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13);var zip_extra_blbits=new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7);var zip_bl_order=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15);var zip_configuration_table=new Array(new zip_DeflateConfiguration(0,0,0,0),new zip_DeflateConfiguration(4,4,8,4),new zip_DeflateConfiguration(4,5,16,8),new zip_DeflateConfiguration(4,6,32,32),new zip_DeflateConfiguration(4,4,16,16),new zip_DeflateConfiguration(8,16,32,32),new zip_DeflateConfiguration(8,16,128,128),new zip_DeflateConfiguration(8,32,128,256),new zip_DeflateConfiguration(32,128,258,1024),new zip_DeflateConfiguration(32,258,258,4096));var zip_deflate_start=function(level){var i;if(!level){level=zip_DEFAULT_LEVEL;}else{if(level<1){level=1;}else{if(level>9){level=9;}}}zip_compr_level=level;zip_initflag=false;zip_eofile=false;if(zip_outbuf!=null){return;}zip_free_queue=zip_qhead=zip_qtail=null;zip_outbuf=new Array(zip_OUTBUFSIZ);zip_window=new Array(zip_window_size);zip_d_buf=new Array(zip_DIST_BUFSIZE);zip_l_buf=new Array(zip_INBUFSIZ+zip_INBUF_EXTRA);zip_prev=new Array(1<<zip_BITS);zip_dyn_ltree=new Array(zip_HEAP_SIZE);for(i=0;i<zip_HEAP_SIZE;i++){zip_dyn_ltree[i]=new zip_DeflateCT();}zip_dyn_dtree=new Array(2*zip_D_CODES+1);for(i=0;i<2*zip_D_CODES+1;i++){zip_dyn_dtree[i]=new zip_DeflateCT();}zip_static_ltree=new Array(zip_L_CODES+2);for(i=0;i<zip_L_CODES+2;i++){zip_static_ltree[i]=new zip_DeflateCT();}zip_static_dtree=new Array(zip_D_CODES);for(i=0;i<zip_D_CODES;i++){zip_static_dtree[i]=new zip_DeflateCT();}zip_bl_tree=new Array(2*zip_BL_CODES+1);for(i=0;i<2*zip_BL_CODES+1;i++){zip_bl_tree[i]=new zip_DeflateCT();}zip_l_desc=new zip_DeflateTreeDesc();zip_d_desc=new zip_DeflateTreeDesc();zip_bl_desc=new zip_DeflateTreeDesc();zip_bl_count=new Array(zip_MAX_BITS+1);zip_heap=new Array(2*zip_L_CODES+1);zip_depth=new Array(2*zip_L_CODES+1);zip_length_code=new Array(zip_MAX_MATCH-zip_MIN_MATCH+1);zip_dist_code=new Array(512);zip_base_length=new Array(zip_LENGTH_CODES);zip_base_dist=new Array(zip_D_CODES);zip_flag_buf=new Array(parseInt(zip_LIT_BUFSIZE/8));};var zip_deflate_end=function(){zip_free_queue=zip_qhead=zip_qtail=null;zip_outbuf=null;zip_window=null;zip_d_buf=null;zip_l_buf=null;zip_prev=null;zip_dyn_ltree=null;zip_dyn_dtree=null;zip_static_ltree=null;zip_static_dtree=null;zip_bl_tree=null;zip_l_desc=null;zip_d_desc=null;zip_bl_desc=null;zip_bl_count=null;zip_heap=null;zip_depth=null;zip_length_code=null;zip_dist_code=null;zip_base_length=null;zip_base_dist=null;zip_flag_buf=null;};var zip_reuse_queue=function(p){p.next=zip_free_queue;zip_free_queue=p;};var zip_new_queue=function(){var p;if(zip_free_queue!=null){p=zip_free_queue;zip_free_queue=zip_free_queue.next;}else{p=new zip_DeflateBuffer();}p.next=null;p.len=p.off=0;return p;};var zip_head1=function(i){return zip_prev[zip_WSIZE+i];};var zip_head2=function(i,val){return zip_prev[zip_WSIZE+i]=val;};var zip_put_byte=function(c){zip_outbuf[zip_outoff+zip_outcnt++]=c;if(zip_outoff+zip_outcnt==zip_OUTBUFSIZ){zip_qoutbuf();}};var zip_put_short=function(w){w&=65535;if(zip_outoff+zip_outcnt<zip_OUTBUFSIZ-2){zip_outbuf[zip_outoff+zip_outcnt++]=(w&255);zip_outbuf[zip_outoff+zip_outcnt++]=(w>>>8);}else{zip_put_byte(w&255);zip_put_byte(w>>>8);}};var zip_INSERT_STRING=function(){zip_ins_h=((zip_ins_h<<zip_H_SHIFT)^(zip_window[zip_strstart+zip_MIN_MATCH-1]&255))&zip_HASH_MASK;zip_hash_head=zip_head1(zip_ins_h);zip_prev[zip_strstart&zip_WMASK]=zip_hash_head;zip_head2(zip_ins_h,zip_strstart);};var zip_SEND_CODE=function(c,tree){zip_send_bits(tree[c].fc,tree[c].dl);};var zip_D_CODE=function(dist){return(dist<256?zip_dist_code[dist]:zip_dist_code[256+(dist>>7)])&255;};var zip_SMALLER=function(tree,n,m){return tree[n].fc<tree[m].fc||(tree[n].fc==tree[m].fc&&zip_depth[n]<=zip_depth[m]);};var zip_read_buff=function(buff,offset,n){var i;for(i=0;i<n&&zip_deflate_pos<zip_deflate_data.length;i++){buff[offset+i]=zip_deflate_data.charCodeAt(zip_deflate_pos++)&255;}return i;};var zip_lm_init=function(){var j;for(j=0;j<zip_HASH_SIZE;j++){zip_prev[zip_WSIZE+j]=0;}zip_max_lazy_match=zip_configuration_table[zip_compr_level].max_lazy;zip_good_match=zip_configuration_table[zip_compr_level].good_length;if(!zip_FULL_SEARCH){zip_nice_match=zip_configuration_table[zip_compr_level].nice_length;}zip_max_chain_length=zip_configuration_table[zip_compr_level].max_chain;zip_strstart=0;zip_block_start=0;zip_lookahead=zip_read_buff(zip_window,0,2*zip_WSIZE);if(zip_lookahead<=0){zip_eofile=true;zip_lookahead=0;return;}zip_eofile=false;while(zip_lookahead<zip_MIN_LOOKAHEAD&&!zip_eofile){zip_fill_window();}zip_ins_h=0;for(j=0;j<zip_MIN_MATCH-1;j++){zip_ins_h=((zip_ins_h<<zip_H_SHIFT)^(zip_window[j]&255))&zip_HASH_MASK;}};var zip_longest_match=function(cur_match){var chain_length=zip_max_chain_length;var scanp=zip_strstart;var matchp;var len;var best_len=zip_prev_length;var limit=(zip_strstart>zip_MAX_DIST?zip_strstart-zip_MAX_DIST:zip_NIL);var strendp=zip_strstart+zip_MAX_MATCH;var scan_end1=zip_window[scanp+best_len-1];var scan_end=zip_window[scanp+best_len];if(zip_prev_length>=zip_good_match){chain_length>>=2;}do{matchp=cur_match;if(zip_window[matchp+best_len]!=scan_end||zip_window[matchp+best_len-1]!=scan_end1||zip_window[matchp]!=zip_window[scanp]||zip_window[++matchp]!=zip_window[scanp+1]){continue;}scanp+=2;matchp++;do{}while(zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&scanp<strendp);len=zip_MAX_MATCH-(strendp-scanp);scanp=strendp-zip_MAX_MATCH;if(len>best_len){zip_match_start=cur_match;best_len=len;if(zip_FULL_SEARCH){if(len>=zip_MAX_MATCH){break;}}else{if(len>=zip_nice_match){break;}}scan_end1=zip_window[scanp+best_len-1];scan_end=zip_window[scanp+best_len];}}while((cur_match=zip_prev[cur_match&zip_WMASK])>limit&&--chain_length!=0);return best_len;};var zip_fill_window=function(){var n,m;var more=zip_window_size-zip_lookahead-zip_strstart;if(more==-1){more--;}else{if(zip_strstart>=zip_WSIZE+zip_MAX_DIST){for(n=0;n<zip_WSIZE;n++){zip_window[n]=zip_window[n+zip_WSIZE];}zip_match_start-=zip_WSIZE;zip_strstart-=zip_WSIZE;zip_block_start-=zip_WSIZE;for(n=0;n<zip_HASH_SIZE;n++){m=zip_head1(n);zip_head2(n,m>=zip_WSIZE?m-zip_WSIZE:zip_NIL);}for(n=0;n<zip_WSIZE;n++){m=zip_prev[n];zip_prev[n]=(m>=zip_WSIZE?m-zip_WSIZE:zip_NIL);}more+=zip_WSIZE;}}if(!zip_eofile){n=zip_read_buff(zip_window,zip_strstart+zip_lookahead,more);if(n<=0){zip_eofile=true;}else{zip_lookahead+=n;}}};var zip_deflate_fast=function(){while(zip_lookahead!=0&&zip_qhead==null){var flush;zip_INSERT_STRING();if(zip_hash_head!=zip_NIL&&zip_strstart-zip_hash_head<=zip_MAX_DIST){zip_match_length=zip_longest_match(zip_hash_head);if(zip_match_length>zip_lookahead){zip_match_length=zip_lookahead;}}if(zip_match_length>=zip_MIN_MATCH){flush=zip_ct_tally(zip_strstart-zip_match_start,zip_match_length-zip_MIN_MATCH);zip_lookahead-=zip_match_length;if(zip_match_length<=zip_max_lazy_match){zip_match_length--;do{zip_strstart++;zip_INSERT_STRING();}while(--zip_match_length!=0);zip_strstart++;}else{zip_strstart+=zip_match_length;zip_match_length=0;zip_ins_h=zip_window[zip_strstart]&255;zip_ins_h=((zip_ins_h<<zip_H_SHIFT)^(zip_window[zip_strstart+1]&255))&zip_HASH_MASK;}}else{flush=zip_ct_tally(0,zip_window[zip_strstart]&255);zip_lookahead--;zip_strstart++;}if(flush){zip_flush_block(0);zip_block_start=zip_strstart;}while(zip_lookahead<zip_MIN_LOOKAHEAD&&!zip_eofile){zip_fill_window();}}};var zip_deflate_better=function(){while(zip_lookahead!=0&&zip_qhead==null){zip_INSERT_STRING();zip_prev_length=zip_match_length;zip_prev_match=zip_match_start;zip_match_length=zip_MIN_MATCH-1;if(zip_hash_head!=zip_NIL&&zip_prev_length<zip_max_lazy_match&&zip_strstart-zip_hash_head<=zip_MAX_DIST){zip_match_length=zip_longest_match(zip_hash_head);if(zip_match_length>zip_lookahead){zip_match_length=zip_lookahead;}if(zip_match_length==zip_MIN_MATCH&&zip_strstart-zip_match_start>zip_TOO_FAR){zip_match_length--;}}if(zip_prev_length>=zip_MIN_MATCH&&zip_match_length<=zip_prev_length){var flush;flush=zip_ct_tally(zip_strstart-1-zip_prev_match,zip_prev_length-zip_MIN_MATCH);zip_lookahead-=zip_prev_length-1;zip_prev_length-=2;do{zip_strstart++;zip_INSERT_STRING();}while(--zip_prev_length!=0);zip_match_available=0;zip_match_length=zip_MIN_MATCH-1;zip_strstart++;if(flush){zip_flush_block(0);zip_block_start=zip_strstart;}}else{if(zip_match_available!=0){if(zip_ct_tally(0,zip_window[zip_strstart-1]&255)){zip_flush_block(0);zip_block_start=zip_strstart;}zip_strstart++;zip_lookahead--;}else{zip_match_available=1;zip_strstart++;zip_lookahead--;}}while(zip_lookahead<zip_MIN_LOOKAHEAD&&!zip_eofile){zip_fill_window();}}};var zip_init_deflate=function(){if(zip_eofile){return;}zip_bi_buf=0;zip_bi_valid=0;zip_ct_init();zip_lm_init();zip_qhead=null;zip_outcnt=0;zip_outoff=0;if(zip_compr_level<=3){zip_prev_length=zip_MIN_MATCH-1;zip_match_length=0;}else{zip_match_length=zip_MIN_MATCH-1;zip_match_available=0;}zip_complete=false;};var zip_deflate_internal=function(buff,off,buff_size){var n;if(!zip_initflag){zip_init_deflate();zip_initflag=true;if(zip_lookahead==0){zip_complete=true;return 0;}}if((n=zip_qcopy(buff,off,buff_size))==buff_size){return buff_size;}if(zip_complete){return n;}if(zip_compr_level<=3){zip_deflate_fast();}else{zip_deflate_better();}if(zip_lookahead==0){if(zip_match_available!=0){zip_ct_tally(0,zip_window[zip_strstart-1]&255);}zip_flush_block(1);zip_complete=true;}return n+zip_qcopy(buff,n+off,buff_size-n);};var zip_qcopy=function(buff,off,buff_size){var n,i,j;n=0;while(zip_qhead!=null&&n<buff_size){i=buff_size-n;if(i>zip_qhead.len){i=zip_qhead.len;}for(j=0;j<i;j++){buff[off+n+j]=zip_qhead.ptr[zip_qhead.off+j];}zip_qhead.off+=i;zip_qhead.len-=i;n+=i;if(zip_qhead.len==0){var p;p=zip_qhead;zip_qhead=zip_qhead.next;zip_reuse_queue(p);}}if(n==buff_size){return n;}if(zip_outoff<zip_outcnt){i=buff_size-n;if(i>zip_outcnt-zip_outoff){i=zip_outcnt-zip_outoff;}for(j=0;j<i;j++){buff[off+n+j]=zip_outbuf[zip_outoff+j];}zip_outoff+=i;n+=i;if(zip_outcnt==zip_outoff){zip_outcnt=zip_outoff=0;}}return n;};var zip_ct_init=function(){var n;var bits;var length;var code;var dist;if(zip_static_dtree[0].dl!=0){return;}zip_l_desc.dyn_tree=zip_dyn_ltree;zip_l_desc.static_tree=zip_static_ltree;zip_l_desc.extra_bits=zip_extra_lbits;zip_l_desc.extra_base=zip_LITERALS+1;zip_l_desc.elems=zip_L_CODES;zip_l_desc.max_length=zip_MAX_BITS;zip_l_desc.max_code=0;zip_d_desc.dyn_tree=zip_dyn_dtree;zip_d_desc.static_tree=zip_static_dtree;zip_d_desc.extra_bits=zip_extra_dbits;zip_d_desc.extra_base=0;zip_d_desc.elems=zip_D_CODES;zip_d_desc.max_length=zip_MAX_BITS;zip_d_desc.max_code=0;zip_bl_desc.dyn_tree=zip_bl_tree;zip_bl_desc.static_tree=null;zip_bl_desc.extra_bits=zip_extra_blbits;zip_bl_desc.extra_base=0;zip_bl_desc.elems=zip_BL_CODES;zip_bl_desc.max_length=zip_MAX_BL_BITS;zip_bl_desc.max_code=0;length=0;for(code=0;code<zip_LENGTH_CODES-1;code++){zip_base_length[code]=length;for(n=0;n<(1<<zip_extra_lbits[code]);n++){zip_length_code[length++]=code;}}zip_length_code[length-1]=code;dist=0;for(code=0;code<16;code++){zip_base_dist[code]=dist;for(n=0;n<(1<<zip_extra_dbits[code]);n++){zip_dist_code[dist++]=code;}}dist>>=7;for(;code<zip_D_CODES;code++){zip_base_dist[code]=dist<<7;for(n=0;n<(1<<(zip_extra_dbits[code]-7));n++){zip_dist_code[256+dist++]=code;}}for(bits=0;bits<=zip_MAX_BITS;bits++){zip_bl_count[bits]=0;}n=0;while(n<=143){zip_static_ltree[n++].dl=8;zip_bl_count[8]++;}while(n<=255){zip_static_ltree[n++].dl=9;zip_bl_count[9]++;}while(n<=279){zip_static_ltree[n++].dl=7;zip_bl_count[7]++;}while(n<=287){zip_static_ltree[n++].dl=8;zip_bl_count[8]++;}zip_gen_codes(zip_static_ltree,zip_L_CODES+1);for(n=0;n<zip_D_CODES;n++){zip_static_dtree[n].dl=5;zip_static_dtree[n].fc=zip_bi_reverse(n,5);}zip_init_block();};var zip_init_block=function(){var n;for(n=0;n<zip_L_CODES;n++){zip_dyn_ltree[n].fc=0;}for(n=0;n<zip_D_CODES;n++){zip_dyn_dtree[n].fc=0;}for(n=0;n<zip_BL_CODES;n++){zip_bl_tree[n].fc=0;}zip_dyn_ltree[zip_END_BLOCK].fc=1;zip_opt_len=zip_static_len=0;zip_last_lit=zip_last_dist=zip_last_flags=0;zip_flags=0;zip_flag_bit=1;};var zip_pqdownheap=function(tree,k){var v=zip_heap[k];var j=k<<1;while(j<=zip_heap_len){if(j<zip_heap_len&&zip_SMALLER(tree,zip_heap[j+1],zip_heap[j])){j++;}if(zip_SMALLER(tree,v,zip_heap[j])){break;}zip_heap[k]=zip_heap[j];k=j;j<<=1;}zip_heap[k]=v;};var zip_gen_bitlen=function(desc){var tree=desc.dyn_tree;var extra=desc.extra_bits;var base=desc.extra_base;var max_code=desc.max_code;var max_length=desc.max_length;var stree=desc.static_tree;var h;var n,m;var bits;var xbits;var f;var overflow=0;for(bits=0;bits<=zip_MAX_BITS;bits++){zip_bl_count[bits]=0;}tree[zip_heap[zip_heap_max]].dl=0;for(h=zip_heap_max+1;h<zip_HEAP_SIZE;h++){n=zip_heap[h];bits=tree[tree[n].dl].dl+1;if(bits>max_length){bits=max_length;overflow++;}tree[n].dl=bits;if(n>max_code){continue;}zip_bl_count[bits]++;xbits=0;if(n>=base){xbits=extra[n-base];}f=tree[n].fc;zip_opt_len+=f*(bits+xbits);if(stree!=null){zip_static_len+=f*(stree[n].dl+xbits);}}if(overflow==0){return;}do{bits=max_length-1;while(zip_bl_count[bits]==0){bits--;}zip_bl_count[bits]--;zip_bl_count[bits+1]+=2;zip_bl_count[max_length]--;overflow-=2;}while(overflow>0);for(bits=max_length;bits!=0;bits--){n=zip_bl_count[bits];while(n!=0){m=zip_heap[--h];if(m>max_code){continue;}if(tree[m].dl!=bits){zip_opt_len+=(bits-tree[m].dl)*tree[m].fc;tree[m].fc=bits;}n--;}}};var zip_gen_codes=function(tree,max_code){var next_code=new Array(zip_MAX_BITS+1);var code=0;var bits;var n;for(bits=1;bits<=zip_MAX_BITS;bits++){code=((code+zip_bl_count[bits-1])<<1);next_code[bits]=code;}for(n=0;n<=max_code;n++){var len=tree[n].dl;if(len==0){continue;}tree[n].fc=zip_bi_reverse(next_code[len]++,len);}};var zip_build_tree=function(desc){var tree=desc.dyn_tree;var stree=desc.static_tree;var elems=desc.elems;var n,m;var max_code=-1;var node=elems;zip_heap_len=0;zip_heap_max=zip_HEAP_SIZE;for(n=0;n<elems;n++){if(tree[n].fc!=0){zip_heap[++zip_heap_len]=max_code=n;zip_depth[n]=0;}else{tree[n].dl=0;}}while(zip_heap_len<2){var xnew=zip_heap[++zip_heap_len]=(max_code<2?++max_code:0);tree[xnew].fc=1;zip_depth[xnew]=0;zip_opt_len--;if(stree!=null){zip_static_len-=stree[xnew].dl;}}desc.max_code=max_code;for(n=zip_heap_len>>1;n>=1;n--){zip_pqdownheap(tree,n);}do{n=zip_heap[zip_SMALLEST];zip_heap[zip_SMALLEST]=zip_heap[zip_heap_len--];zip_pqdownheap(tree,zip_SMALLEST);m=zip_heap[zip_SMALLEST];zip_heap[--zip_heap_max]=n;zip_heap[--zip_heap_max]=m;tree[node].fc=tree[n].fc+tree[m].fc;if(zip_depth[n]>zip_depth[m]+1){zip_depth[node]=zip_depth[n];}else{zip_depth[node]=zip_depth[m]+1;}tree[n].dl=tree[m].dl=node;zip_heap[zip_SMALLEST]=node++;zip_pqdownheap(tree,zip_SMALLEST);}while(zip_heap_len>=2);zip_heap[--zip_heap_max]=zip_heap[zip_SMALLEST];zip_gen_bitlen(desc);zip_gen_codes(tree,max_code);};var zip_scan_tree=function(tree,max_code){var n;var prevlen=-1;var curlen;var nextlen=tree[0].dl;var count=0;var max_count=7;var min_count=4;if(nextlen==0){max_count=138;min_count=3;}tree[max_code+1].dl=65535;for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[n+1].dl;if(++count<max_count&&curlen==nextlen){continue;}else{if(count<min_count){zip_bl_tree[curlen].fc+=count;}else{if(curlen!=0){if(curlen!=prevlen){zip_bl_tree[curlen].fc++;}zip_bl_tree[zip_REP_3_6].fc++;}else{if(count<=10){zip_bl_tree[zip_REPZ_3_10].fc++;}else{zip_bl_tree[zip_REPZ_11_138].fc++;}}}}count=0;prevlen=curlen;if(nextlen==0){max_count=138;min_count=3;}else{if(curlen==nextlen){max_count=6;min_count=3;}else{max_count=7;min_count=4;}}}};var zip_send_tree=function(tree,max_code){var n;var prevlen=-1;var curlen;var nextlen=tree[0].dl;var count=0;var max_count=7;var min_count=4;if(nextlen==0){max_count=138;min_count=3;}for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[n+1].dl;if(++count<max_count&&curlen==nextlen){continue;}else{if(count<min_count){do{zip_SEND_CODE(curlen,zip_bl_tree);}while(--count!=0);}else{if(curlen!=0){if(curlen!=prevlen){zip_SEND_CODE(curlen,zip_bl_tree);count--;}zip_SEND_CODE(zip_REP_3_6,zip_bl_tree);zip_send_bits(count-3,2);}else{if(count<=10){zip_SEND_CODE(zip_REPZ_3_10,zip_bl_tree);zip_send_bits(count-3,3);}else{zip_SEND_CODE(zip_REPZ_11_138,zip_bl_tree);zip_send_bits(count-11,7);}}}}count=0;prevlen=curlen;if(nextlen==0){max_count=138;min_count=3;}else{if(curlen==nextlen){max_count=6;min_count=3;}else{max_count=7;min_count=4;}}}};var zip_build_bl_tree=function(){var max_blindex;zip_scan_tree(zip_dyn_ltree,zip_l_desc.max_code);zip_scan_tree(zip_dyn_dtree,zip_d_desc.max_code);zip_build_tree(zip_bl_desc);for(max_blindex=zip_BL_CODES-1;max_blindex>=3;max_blindex--){if(zip_bl_tree[zip_bl_order[max_blindex]].dl!=0){break;}}zip_opt_len+=3*(max_blindex+1)+5+5+4;return max_blindex;};var zip_send_all_trees=function(lcodes,dcodes,blcodes){var rank;zip_send_bits(lcodes-257,5);zip_send_bits(dcodes-1,5);zip_send_bits(blcodes-4,4);for(rank=0;rank<blcodes;rank++){zip_send_bits(zip_bl_tree[zip_bl_order[rank]].dl,3);}zip_send_tree(zip_dyn_ltree,lcodes-1);zip_send_tree(zip_dyn_dtree,dcodes-1);};var zip_flush_block=function(eof){var opt_lenb,static_lenb;var max_blindex;var stored_len;stored_len=zip_strstart-zip_block_start;zip_flag_buf[zip_last_flags]=zip_flags;zip_build_tree(zip_l_desc);zip_build_tree(zip_d_desc);max_blindex=zip_build_bl_tree();opt_lenb=(zip_opt_len+3+7)>>3;static_lenb=(zip_static_len+3+7)>>3;if(static_lenb<=opt_lenb){opt_lenb=static_lenb;}if(stored_len+4<=opt_lenb&&zip_block_start>=0){var i;zip_send_bits((zip_STORED_BLOCK<<1)+eof,3);zip_bi_windup();zip_put_short(stored_len);zip_put_short(~stored_len);for(i=0;i<stored_len;i++){zip_put_byte(zip_window[zip_block_start+i]);}}else{if(static_lenb==opt_lenb){zip_send_bits((zip_STATIC_TREES<<1)+eof,3);zip_compress_block(zip_static_ltree,zip_static_dtree);}else{zip_send_bits((zip_DYN_TREES<<1)+eof,3);zip_send_all_trees(zip_l_desc.max_code+1,zip_d_desc.max_code+1,max_blindex+1);zip_compress_block(zip_dyn_ltree,zip_dyn_dtree);}}zip_init_block();if(eof!=0){zip_bi_windup();}};var zip_ct_tally=function(dist,lc){zip_l_buf[zip_last_lit++]=lc;if(dist==0){zip_dyn_ltree[lc].fc++;}else{dist--;zip_dyn_ltree[zip_length_code[lc]+zip_LITERALS+1].fc++;zip_dyn_dtree[zip_D_CODE(dist)].fc++;zip_d_buf[zip_last_dist++]=dist;zip_flags|=zip_flag_bit;}zip_flag_bit<<=1;if((zip_last_lit&7)==0){zip_flag_buf[zip_last_flags++]=zip_flags;zip_flags=0;zip_flag_bit=1;}if(zip_compr_level>2&&(zip_last_lit&4095)==0){var out_length=zip_last_lit*8;var in_length=zip_strstart-zip_block_start;var dcode;for(dcode=0;dcode<zip_D_CODES;dcode++){out_length+=zip_dyn_dtree[dcode].fc*(5+zip_extra_dbits[dcode]);}out_length>>=3;if(zip_last_dist<parseInt(zip_last_lit/2)&&out_length<parseInt(in_length/2)){return true;}}return(zip_last_lit==zip_LIT_BUFSIZE-1||zip_last_dist==zip_DIST_BUFSIZE);};var zip_compress_block=function(ltree,dtree){var dist;var lc;var lx=0;var dx=0;var fx=0;var flag=0;var code;var extra;if(zip_last_lit!=0){do{if((lx&7)==0){flag=zip_flag_buf[fx++];}lc=zip_l_buf[lx++]&255;if((flag&1)==0){zip_SEND_CODE(lc,ltree);}else{code=zip_length_code[lc];zip_SEND_CODE(code+zip_LITERALS+1,ltree);extra=zip_extra_lbits[code];if(extra!=0){lc-=zip_base_length[code];zip_send_bits(lc,extra);}dist=zip_d_buf[dx++];code=zip_D_CODE(dist);zip_SEND_CODE(code,dtree);extra=zip_extra_dbits[code];if(extra!=0){dist-=zip_base_dist[code];zip_send_bits(dist,extra);}}flag>>=1;}while(lx<zip_last_lit);}zip_SEND_CODE(zip_END_BLOCK,ltree);};var zip_Buf_size=16;var zip_send_bits=function(value,length){if(zip_bi_valid>zip_Buf_size-length){zip_bi_buf|=(value<<zip_bi_valid);zip_put_short(zip_bi_buf);zip_bi_buf=(value>>(zip_Buf_size-zip_bi_valid));zip_bi_valid+=length-zip_Buf_size;}else{zip_bi_buf|=value<<zip_bi_valid;zip_bi_valid+=length;}};var zip_bi_reverse=function(code,len){var res=0;do{res|=code&1;code>>=1;res<<=1;}while(--len>0);return res>>1;};var zip_bi_windup=function(){if(zip_bi_valid>8){zip_put_short(zip_bi_buf);}else{if(zip_bi_valid>0){zip_put_byte(zip_bi_buf);}}zip_bi_buf=0;zip_bi_valid=0;};var zip_qoutbuf=function(){if(zip_outcnt!=0){var q,i;q=zip_new_queue();if(zip_qhead==null){zip_qhead=zip_qtail=q;}else{zip_qtail=zip_qtail.next=q;}q.len=zip_outcnt-zip_outoff;for(i=0;i<q.len;i++){q.ptr[i]=zip_outbuf[zip_outoff+i];}zip_outcnt=zip_outoff=0;}};var zip_deflate=function(str,level){var i,j;zip_deflate_data=str;zip_deflate_pos=0;if(typeof level=="undefined"){level=zip_DEFAULT_LEVEL;}zip_deflate_start(level);var buff=new Array(1024);var aout=[];while((i=zip_deflate_internal(buff,0,buff.length))>0){var cbuf=new Array(i);for(j=0;j<i;j++){cbuf[j]=String.fromCharCode(buff[j]);}aout[aout.length]=cbuf.join("");}zip_deflate_data=null;return aout.join("");};if(!window.RawDeflate){RawDeflate={};}RawDeflate.deflate=zip_deflate;})();(function(){var zip_WSIZE=32768;var zip_STORED_BLOCK=0;var zip_STATIC_TREES=1;var zip_DYN_TREES=2;var zip_lbits=9;var zip_dbits=6;var zip_INBUFSIZ=32768;var zip_INBUF_EXTRA=64;var zip_slide;var zip_wp;var zip_fixed_tl=null;var zip_fixed_td;var zip_fixed_bl,fixed_bd;var zip_bit_buf;var zip_bit_len;var zip_method;var zip_eof;var zip_copy_leng;var zip_copy_dist;var zip_tl,zip_td;var zip_bl,zip_bd;var zip_inflate_data;var zip_inflate_pos;var zip_MASK_BITS=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535);var zip_cplens=new Array(3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0);var zip_cplext=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99);var zip_cpdist=new Array(1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577);var zip_cpdext=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13);var zip_border=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15);var zip_HuftList=function(){this.next=null;this.list=null;};var zip_HuftNode=function(){this.e=0;this.b=0;this.n=0;this.t=null;};var zip_HuftBuild=function(b,n,s,d,e,mm){this.BMAX=16;this.N_MAX=288;this.status=0;this.root=null;this.m=0;var a;var c=new Array(this.BMAX+1);var el;var f;var g;var h;var i;var j;var k;var lx=new Array(this.BMAX+1);var p;var pidx;var q;var r=new zip_HuftNode();var u=new Array(this.BMAX);var v=new Array(this.N_MAX);var w;var x=new Array(this.BMAX+1);var xp;var y;var z;var o;var tail;tail=this.root=null;for(i=0;i<c.length;i++){c[i]=0;}for(i=0;i<lx.length;i++){lx[i]=0;}for(i=0;i<u.length;i++){u[i]=null;}for(i=0;i<v.length;i++){v[i]=0;}for(i=0;i<x.length;i++){x[i]=0;}el=n>256?b[256]:this.BMAX;p=b;pidx=0;i=n;do{c[p[pidx]]++;pidx++;}while(--i>0);if(c[0]==n){this.root=null;this.m=0;this.status=0;return;}for(j=1;j<=this.BMAX;j++){if(c[j]!=0){break;}}k=j;if(mm<j){mm=j;}for(i=this.BMAX;i!=0;i--){if(c[i]!=0){break;}}g=i;if(mm>i){mm=i;}for(y=1<<j;j<i;j++,y<<=1){if((y-=c[j])<0){this.status=2;this.m=mm;return;}}if((y-=c[i])<0){this.status=2;this.m=mm;return;}c[i]+=y;x[1]=j=0;p=c;pidx=1;xp=2;while(--i>0){x[xp++]=(j+=p[pidx++]);}p=b;pidx=0;i=0;do{if((j=p[pidx++])!=0){v[x[j]++]=i;}}while(++i<n);n=x[g];x[0]=i=0;p=v;pidx=0;h=-1;w=lx[0]=0;q=null;z=0;for(;k<=g;k++){a=c[k];while(a-->0){while(k>w+lx[1+h]){w+=lx[1+h];h++;z=(z=g-w)>mm?mm:z;if((f=1<<(j=k-w))>a+1){f-=a+1;xp=k;while(++j<z){if((f<<=1)<=c[++xp]){break;}f-=c[xp];}}if(w+j>el&&w<el){j=el-w;}z=1<<j;lx[1+h]=j;q=new Array(z);for(o=0;o<z;o++){q[o]=new zip_HuftNode();}if(tail==null){tail=this.root=new zip_HuftList();}else{tail=tail.next=new zip_HuftList();}tail.next=null;tail.list=q;u[h]=q;if(h>0){x[h]=i;r.b=lx[h];r.e=16+j;r.t=q;j=(i&((1<<w)-1))>>(w-lx[h]);u[h-1][j].e=r.e;u[h-1][j].b=r.b;u[h-1][j].n=r.n;u[h-1][j].t=r.t;}}r.b=k-w;if(pidx>=n){r.e=99;}else{if(p[pidx]<s){r.e=(p[pidx]<256?16:15);r.n=p[pidx++];}else{r.e=e[p[pidx]-s];r.n=d[p[pidx++]-s];}}f=1<<(k-w);for(j=i>>w;j<z;j+=f){q[j].e=r.e;q[j].b=r.b;q[j].n=r.n;q[j].t=r.t;}for(j=1<<(k-1);(i&j)!=0;j>>=1){i^=j;}i^=j;while((i&((1<<w)-1))!=x[h]){w-=lx[h];h--;}}}this.m=lx[1];this.status=((y!=0&&g!=1)?1:0);};var zip_GET_BYTE=function(){if(zip_inflate_data.length==zip_inflate_pos){return -1;}return zip_inflate_data.charCodeAt(zip_inflate_pos++)&255;};var zip_NEEDBITS=function(n){while(zip_bit_len<n){zip_bit_buf|=zip_GET_BYTE()<<zip_bit_len;zip_bit_len+=8;}};var zip_GETBITS=function(n){return zip_bit_buf&zip_MASK_BITS[n];};var zip_DUMPBITS=function(n){zip_bit_buf>>=n;zip_bit_len-=n;};var zip_inflate_codes=function(buff,off,size){var e;var t;var n;if(size==0){return 0;}n=0;for(;;){zip_NEEDBITS(zip_bl);t=zip_tl.list[zip_GETBITS(zip_bl)];e=t.e;while(e>16){if(e==99){return -1;}zip_DUMPBITS(t.b);e-=16;zip_NEEDBITS(e);t=t.t[zip_GETBITS(e)];e=t.e;}zip_DUMPBITS(t.b);if(e==16){zip_wp&=zip_WSIZE-1;buff[off+n++]=zip_slide[zip_wp++]=t.n;if(n==size){return size;}continue;}if(e==15){break;}zip_NEEDBITS(e);zip_copy_leng=t.n+zip_GETBITS(e);zip_DUMPBITS(e);zip_NEEDBITS(zip_bd);t=zip_td.list[zip_GETBITS(zip_bd)];e=t.e;while(e>16){if(e==99){return -1;}zip_DUMPBITS(t.b);e-=16;zip_NEEDBITS(e);t=t.t[zip_GETBITS(e)];e=t.e;}zip_DUMPBITS(t.b);zip_NEEDBITS(e);zip_copy_dist=zip_wp-t.n-zip_GETBITS(e);zip_DUMPBITS(e);while(zip_copy_leng>0&&n<size){zip_copy_leng--;zip_copy_dist&=zip_WSIZE-1;zip_wp&=zip_WSIZE-1;buff[off+n++]=zip_slide[zip_wp++]=zip_slide[zip_copy_dist++];}if(n==size){return size;}}zip_method=-1;return n;};var zip_inflate_stored=function(buff,off,size){var n;n=zip_bit_len&7;zip_DUMPBITS(n);zip_NEEDBITS(16);n=zip_GETBITS(16);zip_DUMPBITS(16);zip_NEEDBITS(16);if(n!=((~zip_bit_buf)&65535)){return -1;}zip_DUMPBITS(16);zip_copy_leng=n;n=0;while(zip_copy_leng>0&&n<size){zip_copy_leng--;zip_wp&=zip_WSIZE-1;zip_NEEDBITS(8);buff[off+n++]=zip_slide[zip_wp++]=zip_GETBITS(8);zip_DUMPBITS(8);}if(zip_copy_leng==0){zip_method=-1;}return n;};var zip_inflate_fixed=function(buff,off,size){if(zip_fixed_tl==null){var i;var l=new Array(288);var h;for(i=0;i<144;i++){l[i]=8;}for(;i<256;i++){l[i]=9;}for(;i<280;i++){l[i]=7;}for(;i<288;i++){l[i]=8;}zip_fixed_bl=7;h=new zip_HuftBuild(l,288,257,zip_cplens,zip_cplext,zip_fixed_bl);if(h.status!=0){alert("HufBuild error: "+h.status);return -1;}zip_fixed_tl=h.root;zip_fixed_bl=h.m;for(i=0;i<30;i++){l[i]=5;}zip_fixed_bd=5;h=new zip_HuftBuild(l,30,0,zip_cpdist,zip_cpdext,zip_fixed_bd);if(h.status>1){zip_fixed_tl=null;alert("HufBuild error: "+h.status);return -1;}zip_fixed_td=h.root;zip_fixed_bd=h.m;}zip_tl=zip_fixed_tl;zip_td=zip_fixed_td;zip_bl=zip_fixed_bl;zip_bd=zip_fixed_bd;return zip_inflate_codes(buff,off,size);};var zip_inflate_dynamic=function(buff,off,size){var i;var j;var l;var n;var t;var nb;var nl;var nd;var ll=new Array(286+30);var h;for(i=0;i<ll.length;i++){ll[i]=0;}zip_NEEDBITS(5);nl=257+zip_GETBITS(5);zip_DUMPBITS(5);zip_NEEDBITS(5);nd=1+zip_GETBITS(5);zip_DUMPBITS(5);zip_NEEDBITS(4);nb=4+zip_GETBITS(4);zip_DUMPBITS(4);if(nl>286||nd>30){return -1;}for(j=0;j<nb;j++){zip_NEEDBITS(3);ll[zip_border[j]]=zip_GETBITS(3);zip_DUMPBITS(3);}for(;j<19;j++){ll[zip_border[j]]=0;}zip_bl=7;h=new zip_HuftBuild(ll,19,19,null,null,zip_bl);if(h.status!=0){return -1;}zip_tl=h.root;zip_bl=h.m;n=nl+nd;i=l=0;while(i<n){zip_NEEDBITS(zip_bl);t=zip_tl.list[zip_GETBITS(zip_bl)];j=t.b;zip_DUMPBITS(j);j=t.n;if(j<16){ll[i++]=l=j;}else{if(j==16){zip_NEEDBITS(2);j=3+zip_GETBITS(2);zip_DUMPBITS(2);if(i+j>n){return -1;}while(j-->0){ll[i++]=l;}}else{if(j==17){zip_NEEDBITS(3);j=3+zip_GETBITS(3);zip_DUMPBITS(3);if(i+j>n){return -1;}while(j-->0){ll[i++]=0;}l=0;}else{zip_NEEDBITS(7);j=11+zip_GETBITS(7);zip_DUMPBITS(7);if(i+j>n){return -1;}while(j-->0){ll[i++]=0;}l=0;}}}}zip_bl=zip_lbits;h=new zip_HuftBuild(ll,nl,257,zip_cplens,zip_cplext,zip_bl);if(zip_bl==0){h.status=1;}if(h.status!=0){if(h.status==1){}return -1;}zip_tl=h.root;zip_bl=h.m;for(i=0;i<nd;i++){ll[i]=ll[i+nl];}zip_bd=zip_dbits;h=new zip_HuftBuild(ll,nd,0,zip_cpdist,zip_cpdext,zip_bd);zip_td=h.root;zip_bd=h.m;if(zip_bd==0&&nl>257){return -1;}if(h.status==1){}if(h.status!=0){return -1;}return zip_inflate_codes(buff,off,size);};var zip_inflate_start=function(){var i;if(zip_slide==null){zip_slide=new Array(2*zip_WSIZE);}zip_wp=0;zip_bit_buf=0;zip_bit_len=0;zip_method=-1;zip_eof=false;zip_copy_leng=zip_copy_dist=0;zip_tl=null;};var zip_inflate_internal=function(buff,off,size){var n,i;n=0;while(n<size){if(zip_eof&&zip_method==-1){return n;}if(zip_copy_leng>0){if(zip_method!=zip_STORED_BLOCK){while(zip_copy_leng>0&&n<size){zip_copy_leng--;zip_copy_dist&=zip_WSIZE-1;zip_wp&=zip_WSIZE-1;buff[off+n++]=zip_slide[zip_wp++]=zip_slide[zip_copy_dist++];}}else{while(zip_copy_leng>0&&n<size){zip_copy_leng--;zip_wp&=zip_WSIZE-1;zip_NEEDBITS(8);buff[off+n++]=zip_slide[zip_wp++]=zip_GETBITS(8);zip_DUMPBITS(8);}if(zip_copy_leng==0){zip_method=-1;}}if(n==size){return n;}}if(zip_method==-1){if(zip_eof){break;}zip_NEEDBITS(1);if(zip_GETBITS(1)!=0){zip_eof=true;}zip_DUMPBITS(1);zip_NEEDBITS(2);zip_method=zip_GETBITS(2);zip_DUMPBITS(2);zip_tl=null;zip_copy_leng=0;}switch(zip_method){case 0:i=zip_inflate_stored(buff,off+n,size-n);break;case 1:if(zip_tl!=null){i=zip_inflate_codes(buff,off+n,size-n);}else{i=zip_inflate_fixed(buff,off+n,size-n);}break;case 2:if(zip_tl!=null){i=zip_inflate_codes(buff,off+n,size-n);}else{i=zip_inflate_dynamic(buff,off+n,size-n);}break;default:i=-1;break;}if(i==-1){if(zip_eof){return 0;}return -1;}n+=i;}return n;};var zip_inflate=function(str){var i,j;zip_inflate_start();zip_inflate_data=str;zip_inflate_pos=0;var buff=new Array(1024);var aout=[];while((i=zip_inflate_internal(buff,0,buff.length))>0){var cbuf=new Array(i);for(j=0;j<i;j++){cbuf[j]=String.fromCharCode(buff[j]);}aout[aout.length]=cbuf.join("");}zip_inflate_data=null;return aout.join("");};if(!window.RawDeflate){RawDeflate={};}RawDeflate.inflate=zip_inflate;})();"use strict";var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message;};this.message=a;},invalid:function(a){this.toString=function(){return"INVALID: "+this.message;};this.message=a;},bug:function(a){this.toString=function(){return"BUG: "+this.message;};this.message=a;},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message;};this.message=a;}}};if(typeof module!="undefined"&&module.exports){module.exports=sjcl;}sjcl.cipher.aes=function(a){this.i[0][0][0]||this.B();var b,c,d,e,f=this.i[0][4],g=this.i[1];b=a.length;var h=1;if(b!==4&&b!==6&&b!==8){throw new sjcl.exception.invalid("invalid aes key size");}this.a=[d=a.slice(0),e=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(a%b===0||b===8&&a%b===4){c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[c&255];if(a%b===0){c=c<<8^c>>>24^h<<24;h=h<<1^(h>>7)*283;}}d[a]=d[a-b]^c;}for(b=0;a;b++,a--){c=d[b&3?a:a-4];e[b]=a<=4||b<4?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^g[3][f[c&255]];}};sjcl.cipher.aes.prototype={encrypt:function(a){return this.K(a,0);},decrypt:function(a){return this.K(a,1);},i:[[[],[],[],[],[]],[[],[],[],[],[]]],B:function(){var a=this.i[0],b=this.i[1],c=a[4],d=b[4],e,f,g,h=[],i=[],j,k,l,m;for(e=0;e<256;e++){i[(h[e]=e<<1^(e>>7)*283)^e]=e;}for(f=g=0;!c[f];f^=j||1,g=i[g]||1){l=g^g<<1^g<<2^g<<3^g<<4;l=l>>8^l&255^99;c[f]=l;d[l]=f;k=h[e=h[j=h[f]]];m=k*16843009^e*65537^j*257^f*16843008;k=h[l]*257^l*16843008;for(e=0;e<4;e++){a[e][f]=k=k<<24^k>>>8;b[e][l]=m=m<<24^m>>>8;}}for(e=0;e<5;e++){a[e]=a[e].slice(0);b[e]=b[e].slice(0);}},K:function(a,b){if(a.length!==4){throw new sjcl.exception.invalid("invalid aes block size");}var c=this.a[b],d=a[0]^c[0],e=a[b?3:1]^c[1],f=a[2]^c[2];a=a[b?1:3]^c[3];var g,h,i,j=c.length/4-2,k,l=4,m=[0,0,0,0];g=this.i[b];var n=g[0],o=g[1],p=g[2],q=g[3],r=g[4];for(k=0;k<j;k++){g=n[d>>>24]^o[e>>16&255]^p[f>>8&255]^q[a&255]^c[l];h=n[e>>>24]^o[f>>16&255]^p[a>>8&255]^q[d&255]^c[l+1];i=n[f>>>24]^o[a>>16&255]^p[d>>8&255]^q[e&255]^c[l+2];a=n[a>>>24]^o[d>>16&255]^p[e>>8&255]^q[f&255]^c[l+3];l+=4;d=g;e=h;f=i;}for(k=0;k<4;k++){m[b?3&-k:k]=r[d>>>24]<<24^r[e>>16&255]<<16^r[f>>8&255]<<8^r[a&255]^c[l++];g=d;d=e;e=f;f=a;a=g;}return m;}};sjcl.bitArray={bitSlice:function(a,b,c){a=sjcl.bitArray.Q(a.slice(b/32),32-(b&31)).slice(1);return c===undefined?a:sjcl.bitArray.clamp(a,c-b);},extract:function(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1;},concat:function(a,b){if(a.length===0||b.length===0){return a.concat(b);}var c=a[a.length-1],d=sjcl.bitArray.getPartial(c);return d===32?a.concat(b):sjcl.bitArray.Q(b,d,c|0,a.slice(0,a.length-1));},bitLength:function(a){var b=a.length;if(b===0){return 0;}return(b-1)*32+sjcl.bitArray.getPartial(a[b-1]);},clamp:function(a,b){if(a.length*32<b){return a;}a=a.slice(0,Math.ceil(b/32));var c=a.length;b&=31;if(c>0&&b){a[c-1]=sjcl.bitArray.partial(b,a[c-1]&2147483648>>b-1,1);}return a;},partial:function(a,b,c){if(a===32){return b;}return(c?b|0:b<<32-a)+a*1099511627776;},getPartial:function(a){return Math.round(a/1099511627776)||32;},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b)){return false;}var c=0,d;for(d=0;d<a.length;d++){c|=a[d]^b[d];}return c===0;},Q:function(a,b,c,d){var e;e=0;if(d===undefined){d=[];}for(;b>=32;b-=32){d.push(c);c=0;}if(b===0){return d.concat(a);}for(e=0;e<a.length;e++){d.push(c|a[e]>>>b);c=a[e]<<32-b;}e=a.length?a[a.length-1]:0;a=sjcl.bitArray.getPartial(e);d.push(sjcl.bitArray.partial(b+a&31,b+a>32?c:d.pop(),1));return d;},j:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]];}};sjcl.codec.utf8String={fromBits:function(a){var b="",c=sjcl.bitArray.bitLength(a),d,e;for(d=0;d<c/8;d++){if((d&3)===0){e=a[d/4];}b+=String.fromCharCode(e>>>24);e<<=8;}return decodeURIComponent(escape(b));},toBits:function(a){a=unescape(encodeURIComponent(a));var b=[],c,d=0;for(c=0;c<a.length;c++){d=d<<8|a.charCodeAt(c);if((c&3)===3){b.push(d);d=0;}}c&3&&b.push(sjcl.bitArray.partial(8*(c&3),d));return b;}};sjcl.codec.hex={fromBits:function(a){var b="",c;for(c=0;c<a.length;c++){b+=((a[c]|0)+263882790666240).toString(16).substr(4);}return b.substr(0,sjcl.bitArray.bitLength(a)/4);},toBits:function(a){var b,c=[],d;a=a.replace(/\s|0x/g,"");d=a.length;a+="00000000";for(b=0;b<a.length;b+=8){c.push(parseInt(a.substr(b,8),16)^0);}return sjcl.bitArray.clamp(c,d*4);}};sjcl.codec.base64={H:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=sjcl.codec.base64.H,g=0,h=sjcl.bitArray.bitLength(a);if(c){f=f.substr(0,62)+"-_";}for(c=0;d.length*6<h;){d+=f.charAt((g^a[c]>>>e)>>>26);if(e<6){g=a[c]<<6-e;e+=26;c++;}else{g<<=6;e-=6;}}for(;d.length&3&&!b;){d+="=";}return d;},toBits:function(a,b){a=a.replace(/\s|=/g,"");var c=[],d=0,e=sjcl.codec.base64.H,f=0,g;if(b){e=e.substr(0,62)+"-_";}for(b=0;b<a.length;b++){g=e.indexOf(a.charAt(b));if(g<0){throw new sjcl.exception.invalid("this isn't base64!");}if(d>26){d-=26;c.push(f^g>>>d);f=g<<32-d;}else{d+=6;f^=g<<32-d;}}d&56&&c.push(sjcl.bitArray.partial(d&56,f,1));return c;}};sjcl.codec.base64url={fromBits:function(a){return sjcl.codec.base64.fromBits(a,1,1);},toBits:function(a){return sjcl.codec.base64.toBits(a,1);}};sjcl.hash.sha256=function(a){this.a[0]||this.B();if(a){this.p=a.p.slice(0);this.k=a.k.slice(0);this.f=a.f;}else{this.reset();}};sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize();};sjcl.hash.sha256.prototype={blockSize:512,reset:function(){this.p=this.O.slice(0);this.k=[];this.f=0;return this;},update:function(a){if(typeof a==="string"){a=sjcl.codec.utf8String.toBits(a);}var b,c=this.k=sjcl.bitArray.concat(this.k,a);b=this.f;a=this.f=b+sjcl.bitArray.bitLength(a);for(b=512+b&-512;b<=a;b+=512){this.G(c.splice(0,16));}return this;},finalize:function(){var a,b=this.k,c=this.p;b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]);for(a=b.length+2;a&15;a++){b.push(0);}b.push(Math.floor(this.f/4294967296));for(b.push(this.f|0);b.length;){this.G(b.splice(0,16));}this.reset();return c;},O:[],a:[],B:function(){function a(e){return(e-Math.floor(e))*4294967296|0;}var b=0,c=2,d;a:for(;b<64;c++){for(d=2;d*d<=c;d++){if(c%d===0){continue a;}}if(b<8){this.O[b]=a(Math.pow(c,0.5));}this.a[b]=a(Math.pow(c,1/3));b++;}},G:function(a){var b,c,d=a.slice(0),e=this.p,f=this.a,g=e[0],h=e[1],i=e[2],j=e[3],k=e[4],l=e[5],m=e[6],n=e[7];for(a=0;a<64;a++){if(a<16){b=d[a];}else{b=d[a+1&15];c=d[a+14&15];b=d[a&15]=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+d[a&15]+d[a+9&15]|0;}b=b+n+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(m^k&(l^m))+f[a];n=m;m=l;l=k;k=j+b|0;j=i;i=h;h=g;g=b+(h&i^j&(h^i))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;}e[0]=e[0]+g|0;e[1]=e[1]+h|0;e[2]=e[2]+i|0;e[3]=e[3]+j|0;e[4]=e[4]+k|0;e[5]=e[5]+l|0;e[6]=e[6]+m|0;e[7]=e[7]+n|0;}};sjcl.mode.ccm={name:"ccm",encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=sjcl.bitArray,i=h.bitLength(c)/8,j=h.bitLength(g)/8;e=e||64;d=d||[];if(i<7){throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");}for(f=2;f<4&&j>>>8*f;f++){}if(f<15-i){f=15-i;}c=h.clamp(c,8*(15-f));b=sjcl.mode.ccm.J(a,b,c,d,e,f);g=sjcl.mode.ccm.l(a,g,c,b,e,f);return h.concat(g.data,g.tag);},decrypt:function(a,b,c,d,e){e=e||64;d=d||[];var f=sjcl.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),i=f.clamp(b,h-e),j=f.bitSlice(b,h-e);h=(h-e)/8;if(g<7){throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");}for(b=2;b<4&&h>>>8*b;b++){}if(b<15-g){b=15-g;}c=f.clamp(c,8*(15-b));i=sjcl.mode.ccm.l(a,i,c,j,e,b);a=sjcl.mode.ccm.J(a,i.data,c,d,e,b);if(!f.equal(i.tag,a)){throw new sjcl.exception.corrupt("ccm: tag doesn't match");}return i.data;},J:function(a,b,c,d,e,f){var g=[],h=sjcl.bitArray,i=h.j;e/=8;if(e%2||e<4||e>16){throw new sjcl.exception.invalid("ccm: invalid tag length");}if(d.length>4294967295||b.length>4294967295){throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");}f=[h.partial(8,(d.length?64:0)|e-2<<2|f-1)];f=h.concat(f,c);f[3]|=h.bitLength(b)/8;f=a.encrypt(f);if(d.length){c=h.bitLength(d)/8;if(c<=65279){g=[h.partial(16,c)];}else{if(c<=4294967295){g=h.concat([h.partial(16,65534)],[c]);}}g=h.concat(g,d);for(d=0;d<g.length;d+=4){f=a.encrypt(i(f,g.slice(d,d+4).concat([0,0,0])));}}for(d=0;d<b.length;d+=4){f=a.encrypt(i(f,b.slice(d,d+4).concat([0,0,0])));}return h.clamp(f,e*8);},l:function(a,b,c,d,e,f){var g,h=sjcl.bitArray;g=h.j;var i=b.length,j=h.bitLength(b);c=h.concat([h.partial(8,f-1)],c).concat([0,0,0]).slice(0,4);d=h.bitSlice(g(d,a.encrypt(c)),0,e);if(!i){return{tag:d,data:[]};}for(g=0;g<i;g+=4){c[3]++;e=a.encrypt(c);b[g]^=e[0];b[g+1]^=e[1];b[g+2]^=e[2];b[g+3]^=e[3];}return{tag:d,data:h.clamp(b,j)};}};sjcl.mode.ocb2={name:"ocb2",encrypt:function(a,b,c,d,e,f){if(sjcl.bitArray.bitLength(c)!==128){throw new sjcl.exception.invalid("ocb iv must be 128 bits");}var g,h=sjcl.mode.ocb2.D,i=sjcl.bitArray,j=i.j,k=[0,0,0,0];c=h(a.encrypt(c));var l,m=[];d=d||[];e=e||64;for(g=0;g+4<b.length;g+=4){l=b.slice(g,g+4);k=j(k,l);m=m.concat(j(c,a.encrypt(j(c,l))));c=h(c);}l=b.slice(g);b=i.bitLength(l);g=a.encrypt(j(c,[0,0,0,b]));l=i.clamp(j(l.concat([0,0,0]),g),b);k=j(k,j(l.concat([0,0,0]),g));k=a.encrypt(j(k,j(c,h(c))));if(d.length){k=j(k,f?d:sjcl.mode.ocb2.pmac(a,d));}return m.concat(i.concat(l,i.clamp(k,e)));},decrypt:function(a,b,c,d,e,f){if(sjcl.bitArray.bitLength(c)!==128){throw new sjcl.exception.invalid("ocb iv must be 128 bits");}e=e||64;var g=sjcl.mode.ocb2.D,h=sjcl.bitArray,i=h.j,j=[0,0,0,0],k=g(a.encrypt(c)),l,m,n=sjcl.bitArray.bitLength(b)-e,o=[];d=d||[];for(c=0;c+4<n/32;c+=4){l=i(k,a.decrypt(i(k,b.slice(c,c+4))));j=i(j,l);o=o.concat(l);k=g(k);}m=n-c*32;l=a.encrypt(i(k,[0,0,0,m]));l=i(l,h.clamp(b.slice(c),m).concat([0,0,0]));j=i(j,l);j=a.encrypt(i(j,i(k,g(k))));if(d.length){j=i(j,f?d:sjcl.mode.ocb2.pmac(a,d));}if(!h.equal(h.clamp(j,e),h.bitSlice(b,n))){throw new sjcl.exception.corrupt("ocb: tag doesn't match");}return o.concat(h.clamp(l,m));},pmac:function(a,b){var c,d=sjcl.mode.ocb2.D,e=sjcl.bitArray,f=e.j,g=[0,0,0,0],h=a.encrypt([0,0,0,0]);h=f(h,d(d(h)));for(c=0;c+4<b.length;c+=4){h=d(h);g=f(g,a.encrypt(f(h,b.slice(c,c+4))));}b=b.slice(c);if(e.bitLength(b)<128){h=f(h,d(h));b=e.concat(b,[2147483648|0,0,0,0]);}g=f(g,b);return a.encrypt(f(d(f(h,d(h))),g));},D:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^(a[0]>>>31)*135];}};sjcl.mode.gcm={name:"gcm",encrypt:function(a,b,c,d,e){var f=b.slice(0);b=sjcl.bitArray;e=e||128;d=d||[];a=sjcl.mode.gcm.l(true,a,f,d,c,e);return b.concat(a.data,a.tag);},decrypt:function(a,b,c,d,e){var f=b.slice(0),g=sjcl.bitArray,h=g.bitLength(f);e=e||128;d=d||[];if(e<=h){b=g.bitSlice(f,h-e);f=g.bitSlice(f,0,h-e);}else{b=f;f=[];}a=sjcl.mode.gcm.l(false,a,f,d,c,e);if(!g.equal(a.tag,b)){throw new sjcl.exception.corrupt("gcm: tag doesn't match");}return a.data;},T:function(a,b){var c,d,e,f,g=sjcl.bitArray.j;d=[0,0,0,0];e=b.slice(0);for(b=0;b<128;b++){if(c=(a[Math.floor(b/32)]&1<<31-b%32)!==0){d=g(d,e);}f=(e[3]&1)!==0;for(c=3;c>0;c--){e[c]=e[c]>>>1|(e[c-1]&1)<<31;}e[0]>>>=1;if(f){e[0]^=-520093696;}}return d;},e:function(a,b,c){var d,e=c.length;b=b.slice(0);for(d=0;d<e;d+=4){b[0]^=4294967295&c[d];b[1]^=4294967295&c[d+1];b[2]^=4294967295&c[d+2];b[3]^=4294967295&c[d+3];b=sjcl.mode.gcm.T(b,a);}return b;},l:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o=sjcl.bitArray;l=c.length;m=o.bitLength(c);n=o.bitLength(d);h=o.bitLength(e);g=b.encrypt([0,0,0,0]);if(h===96){e=e.slice(0);e=o.concat(e,[1]);}else{e=sjcl.mode.gcm.e(g,[0,0,0,0],e);e=sjcl.mode.gcm.e(g,e,[0,0,Math.floor(h/4294967296),h&4294967295]);}h=sjcl.mode.gcm.e(g,[0,0,0,0],d);k=e.slice(0);d=h.slice(0);a||(d=sjcl.mode.gcm.e(g,h,c));for(j=0;j<l;j+=4){k[3]++;i=b.encrypt(k);c[j]^=i[0];c[j+1]^=i[1];c[j+2]^=i[2];c[j+3]^=i[3];}c=o.clamp(c,m);if(a){d=sjcl.mode.gcm.e(g,h,c);}a=[Math.floor(n/4294967296),n&4294967295,Math.floor(m/4294967296),m&4294967295];d=sjcl.mode.gcm.e(g,d,a);i=b.encrypt(e);d[0]^=i[0];d[1]^=i[1];d[2]^=i[2];d[3]^=i[3];return{tag:o.bitSlice(d,0,f),data:c};}};sjcl.misc.hmac=function(a,b){this.N=b=b||sjcl.hash.sha256;var c=[[],[]],d=b.prototype.blockSize/32;this.n=[new b,new b];if(a.length>d){a=b.hash(a);}for(b=0;b<d;b++){c[0][b]=a[b]^909522486;c[1][b]=a[b]^1549556828;}this.n[0].update(c[0]);this.n[1].update(c[1]);};sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a){a=(new this.N(this.n[0])).update(a).finalize();return(new this.N(this.n[1])).update(a).finalize();};sjcl.misc.pbkdf2=function(a,b,c,d,e){c=c||1000;if(d<0||c<0){throw sjcl.exception.invalid("invalid params to pbkdf2");}if(typeof a==="string"){a=sjcl.codec.utf8String.toBits(a);}e=e||sjcl.misc.hmac;a=new e(a);var f,g,h,i,j=[],k=sjcl.bitArray;for(i=1;32*j.length<(d||1);i++){e=f=a.encrypt(k.concat(b,[i]));for(g=1;g<c;g++){f=a.encrypt(f);for(h=0;h<f.length;h++){e[h]^=f[h];}}j=j.concat(e);}if(d){j=k.clamp(j,d);}return j;};sjcl.random={randomWords:function(a,b){var c=[];b=this.isReady(b);var d;if(b===0){throw new sjcl.exception.notReady("generator isn't seeded");}else{b&2&&this.W(!(b&1));}for(b=0;b<a;b+=4){(b+1)%65536===0&&this.M();d=this.A();c.push(d[0],d[1],d[2],d[3]);}this.M();return c.slice(0,a);},setDefaultParanoia:function(a){this.w=a;},addEntropy:function(a,b,c){c=c||"user";var d,e,f=(new Date).valueOf(),g=this.s[c],h=this.isReady(),i=0;d=this.I[c];if(d===undefined){d=this.I[c]=this.S++;}if(g===undefined){g=this.s[c]=0;}this.s[c]=(this.s[c]+1)%this.b.length;switch(typeof a){case"number":if(b===undefined){b=1;}this.b[g].update([d,this.z++,1,b,f,1,a|0]);break;case"object":c=Object.prototype.toString.call(a);if(c==="[object Uint32Array]"){e=[];for(c=0;c<a.length;c++){e.push(a[c]);}a=e;}else{if(c!=="[object Array]"){i=1;}for(c=0;c<a.length&&!i;c++){if(typeof a[c]!="number"){i=1;}}}if(!i){if(b===undefined){for(c=b=0;c<a.length;c++){for(e=a[c];e>0;){b++;e>>>=1;}}}this.b[g].update([d,this.z++,2,b,f,a.length].concat(a));}break;case"string":if(b===undefined){b=a.length;}this.b[g].update([d,this.z++,3,b,f,a.length]);this.b[g].update(a);break;default:i=1;}if(i){throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");}this.m[g]+=b;this.g+=b;if(h===0){this.isReady()!==0&&this.L("seeded",Math.max(this.h,this.g));this.L("progress",this.getProgress());}},isReady:function(a){a=this.F[a!==undefined?a:this.w];return this.h&&this.h>=a?this.m[0]>80&&(new Date).valueOf()>this.P?3:1:this.g>=a?2:0;},getProgress:function(a){a=this.F[a?a:this.w];return this.h>=a?1:this.g>a?1:this.g/a;},startCollectors:function(){if(!this.o){if(window.addEventListener){window.addEventListener("load",this.q,false);window.addEventListener("mousemove",this.r,false);}else{if(document.attachEvent){document.attachEvent("onload",this.q);document.attachEvent("onmousemove",this.r);}else{throw new sjcl.exception.bug("can't attach event");}}this.o=true;}},stopCollectors:function(){if(this.o){if(window.removeEventListener){window.removeEventListener("load",this.q,false);window.removeEventListener("mousemove",this.r,false);}else{if(window.detachEvent){window.detachEvent("onload",this.q);window.detachEvent("onmousemove",this.r);}}this.o=false;}},addEventListener:function(a,b){this.t[a][this.R++]=b;},removeEventListener:function(a,b){var c;a=this.t[a];var d=[];for(c in a){a.hasOwnProperty(c)&&a[c]===b&&d.push(c);}for(b=0;b<d.length;b++){c=d[b];delete a[c];}},b:[new sjcl.hash.sha256],m:[0],C:0,s:{},z:0,I:{},S:0,h:0,g:0,P:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],u:undefined,w:6,o:false,t:{progress:{},seeded:{}},R:0,F:[0,48,64,96,128,192,256,384,512,768,1024],A:function(){for(var a=0;a<4;a++){this.d[a]=this.d[a]+1|0;if(this.d[a]){break;}}return this.u.encrypt(this.d);},M:function(){this.a=this.A().concat(this.A());this.u=new sjcl.cipher.aes(this.a);},V:function(a){this.a=sjcl.hash.sha256.hash(this.a.concat(a));this.u=new sjcl.cipher.aes(this.a);for(a=0;a<4;a++){this.d[a]=this.d[a]+1|0;if(this.d[a]){break;}}},W:function(a){var b=[],c=0,d;this.P=b[0]=(new Date).valueOf()+30000;for(d=0;d<16;d++){b.push(Math.random()*4294967296|0);}for(d=0;d<this.b.length;d++){b=b.concat(this.b[d].finalize());c+=this.m[d];this.m[d]=0;if(!a&&this.C&1<<d){break;}}if(this.C>=1<<this.b.length){this.b.push(new sjcl.hash.sha256);this.m.push(0);}this.g-=c;if(c>this.h){this.h=c;}this.C++;this.V(b);},r:function(a){sjcl.random.addEntropy([a.x||a.clientX||a.offsetX||0,a.y||a.clientY||a.offsetY||0],2,"mouse");},q:function(){sjcl.random.addEntropy((new Date).valueOf(),2,"loadtime");},L:function(a,b){var c;a=sjcl.random.t[a];var d=[];for(c in a){a.hasOwnProperty(c)&&d.push(a[c]);}for(c=0;c<d.length;c++){d[c](b);}}};try{var s=new Uint32Array(32);crypto.getRandomValues(s);sjcl.random.addEntropy(s,1024,"crypto['getRandomValues']");}catch(t){}sjcl.json={defaults:{v:1,iter:1000,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json,f=e.c({iv:sjcl.random.randomWords(4,0)},e.defaults),g;e.c(f,c);c=f.adata;if(typeof f.salt==="string"){f.salt=sjcl.codec.base64.toBits(f.salt);}if(typeof f.iv==="string"){f.iv=sjcl.codec.base64.toBits(f.iv);}if(!sjcl.mode[f.mode]||!sjcl.cipher[f.cipher]||typeof a==="string"&&f.iter<=100||f.ts!==64&&f.ts!==96&&f.ts!==128||f.ks!==128&&f.ks!==192&&f.ks!==256||f.iv.length<2||f.iv.length>4){throw new sjcl.exception.invalid("json encrypt: invalid parameters");}if(typeof a==="string"){g=sjcl.misc.cachedPbkdf2(a,f);a=g.key.slice(0,f.ks/32);f.salt=g.salt;}if(typeof b==="string"){b=sjcl.codec.utf8String.toBits(b);}if(typeof c==="string"){c=sjcl.codec.utf8String.toBits(c);}g=new sjcl.cipher[f.cipher](a);e.c(d,f);d.key=a;f.ct=sjcl.mode[f.mode].encrypt(g,b,f.iv,c,f.ts);return e.encode(f);},decrypt:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json;b=e.c(e.c(e.c({},e.defaults),e.decode(b)),c,true);var f;c=b.adata;if(typeof b.salt==="string"){b.salt=sjcl.codec.base64.toBits(b.salt);}if(typeof b.iv==="string"){b.iv=sjcl.codec.base64.toBits(b.iv);}if(!sjcl.mode[b.mode]||!sjcl.cipher[b.cipher]||typeof a==="string"&&b.iter<=100||b.ts!==64&&b.ts!==96&&b.ts!==128||b.ks!==128&&b.ks!==192&&b.ks!==256||!b.iv||b.iv.length<2||b.iv.length>4){throw new sjcl.exception.invalid("json decrypt: invalid parameters");}if(typeof a==="string"){f=sjcl.misc.cachedPbkdf2(a,b);a=f.key.slice(0,b.ks/32);b.salt=f.salt;}if(typeof c==="string"){c=sjcl.codec.utf8String.toBits(c);}f=new sjcl.cipher[b.cipher](a);c=sjcl.mode[b.mode].decrypt(f,b.ct,b.iv,c,b.ts);e.c(d,b);d.key=a;return sjcl.codec.utf8String.fromBits(c);},encode:function(a){var b,c="{",d="";for(b in a){if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i)){throw new sjcl.exception.invalid("json encode: invalid property name");}c+=d+'"'+b+'":';d=",";switch(typeof a[b]){case"number":case"boolean":c+=a[b];break;case"string":c+='"'+escape(a[b])+'"';break;case"object":c+='"'+sjcl.codec.base64.fromBits(a[b],0)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type");}}}return c+"}";},decode:function(a){a=a.replace(/\s/g,"");if(!a.match(/^\{.*\}$/)){throw new sjcl.exception.invalid("json decode: this isn't json!");}a=a.replace(/^\{|\}$/g,"").split(/,/);var b={},c,d;for(c=0;c<a.length;c++){if(!(d=a[c].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i))){throw new sjcl.exception.invalid("json decode: this isn't json!");}b[d[2]]=d[3]?parseInt(d[3],10):d[2].match(/^(ct|salt|iv)$/)?sjcl.codec.base64.toBits(d[4]):unescape(d[4]);}return b;},c:function(a,b,c){if(a===undefined){a={};}if(b===undefined){return a;}var d;for(d in b){if(b.hasOwnProperty(d)){if(c&&a[d]!==undefined&&a[d]!==b[d]){throw new sjcl.exception.invalid("required parameter overridden");}a[d]=b[d];}}return a;},Y:function(a,b){var c={},d;for(d in a){if(a.hasOwnProperty(d)&&a[d]!==b[d]){c[d]=a[d];}}return c;},X:function(a,b){var c={},d;for(d=0;d<b.length;d++){if(a[b[d]]!==undefined){c[b[d]]=a[b[d]];}}return c;}};sjcl.encrypt=sjcl.json.encrypt;sjcl.decrypt=sjcl.json.decrypt;sjcl.misc.U={};sjcl.misc.cachedPbkdf2=function(a,b){var c=sjcl.misc.U,d;b=b||{};d=b.iter||1000;c=c[a]=c[a]||{};d=c[d]=c[d]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl.random.randomWords(2,0)};c=b.salt===undefined?d.firstSalt:b.salt;d[c]=d[c]||sjcl.misc.pbkdf2(a,c,b.iter);return{key:d[c].slice(0),salt:c.slice(0)};};var hexcase=0;var b64pad="";function hex_md5(a){return rstr2hex(rstr_md5(str2rstr_utf8(a)));}function rstr_md5(a){return binl2rstr(binl_md5(rstr2binl(a),a.length*8));}function rstr2hex(c){try{hexcase;}catch(g){hexcase=0;}var f=hexcase?"0123456789ABCDEF":"0123456789abcdef";var b="";var a;for(var d=0;d<c.length;d++){a=c.charCodeAt(d);b+=f.charAt((a>>>4)&15)+f.charAt(a&15);}return b;}function str2rstr_utf8(c){var b="";var d=-1;var a,e;while(++d<c.length){a=c.charCodeAt(d);e=d+1<c.length?c.charCodeAt(d+1):0;if(55296<=a&&a<=56319&&56320<=e&&e<=57343){a=65536+((a&1023)<<10)+(e&1023);d++;}if(a<=127){b+=String.fromCharCode(a);}else{if(a<=2047){b+=String.fromCharCode(192|((a>>>6)&31),128|(a&63));}else{if(a<=65535){b+=String.fromCharCode(224|((a>>>12)&15),128|((a>>>6)&63),128|(a&63));}else{if(a<=2097151){b+=String.fromCharCode(240|((a>>>18)&7),128|((a>>>12)&63),128|((a>>>6)&63),128|(a&63));}}}}}return b;}function rstr2binl(b){var a=Array(b.length>>2);for(var c=0;c<a.length;c++){a[c]=0;}for(var c=0;c<b.length*8;c+=8){a[c>>5]|=(b.charCodeAt(c/8)&255)<<(c%32);}return a;}function binl2rstr(b){var a="";for(var c=0;c<b.length*32;c+=8){a+=String.fromCharCode((b[c>>5]>>>(c%32))&255);}return a;}function binl_md5(p,k){p[k>>5]|=128<<((k)%32);p[(((k+64)>>>9)<<4)+14]=k;var o=1732584193;var n=-271733879;var m=-1732584194;var l=271733878;for(var g=0;g<p.length;g+=16){var j=o;var h=n;var f=m;var e=l;o=md5_ff(o,n,m,l,p[g+0],7,-680876936);l=md5_ff(l,o,n,m,p[g+1],12,-389564586);m=md5_ff(m,l,o,n,p[g+2],17,606105819);n=md5_ff(n,m,l,o,p[g+3],22,-1044525330);o=md5_ff(o,n,m,l,p[g+4],7,-176418897);l=md5_ff(l,o,n,m,p[g+5],12,1200080426);m=md5_ff(m,l,o,n,p[g+6],17,-1473231341);n=md5_ff(n,m,l,o,p[g+7],22,-45705983);o=md5_ff(o,n,m,l,p[g+8],7,1770035416);l=md5_ff(l,o,n,m,p[g+9],12,-1958414417);m=md5_ff(m,l,o,n,p[g+10],17,-42063);n=md5_ff(n,m,l,o,p[g+11],22,-1990404162);o=md5_ff(o,n,m,l,p[g+12],7,1804603682);l=md5_ff(l,o,n,m,p[g+13],12,-40341101);m=md5_ff(m,l,o,n,p[g+14],17,-1502002290);n=md5_ff(n,m,l,o,p[g+15],22,1236535329);o=md5_gg(o,n,m,l,p[g+1],5,-165796510);l=md5_gg(l,o,n,m,p[g+6],9,-1069501632);m=md5_gg(m,l,o,n,p[g+11],14,643717713);n=md5_gg(n,m,l,o,p[g+0],20,-373897302);o=md5_gg(o,n,m,l,p[g+5],5,-701558691);l=md5_gg(l,o,n,m,p[g+10],9,38016083);m=md5_gg(m,l,o,n,p[g+15],14,-660478335);n=md5_gg(n,m,l,o,p[g+4],20,-405537848);o=md5_gg(o,n,m,l,p[g+9],5,568446438);l=md5_gg(l,o,n,m,p[g+14],9,-1019803690);m=md5_gg(m,l,o,n,p[g+3],14,-187363961);n=md5_gg(n,m,l,o,p[g+8],20,1163531501);o=md5_gg(o,n,m,l,p[g+13],5,-1444681467);l=md5_gg(l,o,n,m,p[g+2],9,-51403784);m=md5_gg(m,l,o,n,p[g+7],14,1735328473);n=md5_gg(n,m,l,o,p[g+12],20,-1926607734);o=md5_hh(o,n,m,l,p[g+5],4,-378558);l=md5_hh(l,o,n,m,p[g+8],11,-2022574463);m=md5_hh(m,l,o,n,p[g+11],16,1839030562);n=md5_hh(n,m,l,o,p[g+14],23,-35309556);o=md5_hh(o,n,m,l,p[g+1],4,-1530992060);l=md5_hh(l,o,n,m,p[g+4],11,1272893353);m=md5_hh(m,l,o,n,p[g+7],16,-155497632);n=md5_hh(n,m,l,o,p[g+10],23,-1094730640);o=md5_hh(o,n,m,l,p[g+13],4,681279174);l=md5_hh(l,o,n,m,p[g+0],11,-358537222);m=md5_hh(m,l,o,n,p[g+3],16,-722521979);n=md5_hh(n,m,l,o,p[g+6],23,76029189);o=md5_hh(o,n,m,l,p[g+9],4,-640364487);l=md5_hh(l,o,n,m,p[g+12],11,-421815835);m=md5_hh(m,l,o,n,p[g+15],16,530742520);n=md5_hh(n,m,l,o,p[g+2],23,-995338651);o=md5_ii(o,n,m,l,p[g+0],6,-198630844);l=md5_ii(l,o,n,m,p[g+7],10,1126891415);m=md5_ii(m,l,o,n,p[g+14],15,-1416354905);n=md5_ii(n,m,l,o,p[g+5],21,-57434055);o=md5_ii(o,n,m,l,p[g+12],6,1700485571);l=md5_ii(l,o,n,m,p[g+3],10,-1894986606);m=md5_ii(m,l,o,n,p[g+10],15,-1051523);n=md5_ii(n,m,l,o,p[g+1],21,-2054922799);o=md5_ii(o,n,m,l,p[g+8],6,1873313359);l=md5_ii(l,o,n,m,p[g+15],10,-30611744);m=md5_ii(m,l,o,n,p[g+6],15,-1560198380);n=md5_ii(n,m,l,o,p[g+13],21,1309151649);o=md5_ii(o,n,m,l,p[g+4],6,-145523070);l=md5_ii(l,o,n,m,p[g+11],10,-1120210379);m=md5_ii(m,l,o,n,p[g+2],15,718787259);n=md5_ii(n,m,l,o,p[g+9],21,-343485551);o=safe_add(o,j);n=safe_add(n,h);m=safe_add(m,f);l=safe_add(l,e);}return Array(o,n,m,l);}function md5_cmn(h,e,d,c,g,f){return safe_add(bit_rol(safe_add(safe_add(e,h),safe_add(c,f)),g),d);}function md5_ff(g,f,k,j,e,i,h){return md5_cmn((f&k)|((~f)&j),g,f,e,i,h);}function md5_gg(g,f,k,j,e,i,h){return md5_cmn((f&j)|(k&(~j)),g,f,e,i,h);}function md5_hh(g,f,k,j,e,i,h){return md5_cmn(f^k^j,g,f,e,i,h);}function md5_ii(g,f,k,j,e,i,h){return md5_cmn(k^(f|(~j)),g,f,e,i,h);}function safe_add(a,d){var c=(a&65535)+(d&65535);var b=(a>>16)+(d>>16)+(c>>16);return(b<<16)|(c&65535);}function bit_rol(a,b){return(a<<b)|(a>>>(32-b));}function hex_sha1(a){return rstr2hex(rstr_sha1(str2rstr_utf8(a)));}function rstr_sha1(a){return binb2rstr(binb_sha1(rstr2binb(a),a.length*8));}function rstr2binb(b){var a=Array(b.length>>2);for(var c=0;c<a.length;c++){a[c]=0;}for(var c=0;c<b.length*8;c+=8){a[c>>5]|=(b.charCodeAt(c/8)&255)<<(24-c%32);}return a;}function binb2rstr(b){var a="";for(var c=0;c<b.length*32;c+=8){a+=String.fromCharCode((b[c>>5]>>>(24-c%32))&255);}return a;}function binb_sha1(v,o){v[o>>5]|=128<<(24-o%32);v[((o+64>>9)<<4)+15]=o;var y=Array(80);var u=1732584193;var s=-271733879;var r=-1732584194;var q=271733878;var p=-1009589776;for(var l=0;l<v.length;l+=16){var n=u;var m=s;var k=r;var h=q;var f=p;for(var g=0;g<80;g++){if(g<16){y[g]=v[l+g];}else{y[g]=bit_rol(y[g-3]^y[g-8]^y[g-14]^y[g-16],1);}var z=safe_add(safe_add(bit_rol(u,5),sha1_ft(g,s,r,q)),safe_add(safe_add(p,y[g]),sha1_kt(g)));p=q;q=r;r=bit_rol(s,30);s=u;u=z;}u=safe_add(u,n);s=safe_add(s,m);r=safe_add(r,k);q=safe_add(q,h);p=safe_add(p,f);}return Array(u,s,r,q,p);}function sha1_ft(e,a,g,f){if(e<20){return(a&g)|((~a)&f);}if(e<40){return a^g^f;}if(e<60){return(a&g)|(a&f)|(g&f);}return a^g^f;}function sha1_kt(a){return(a<20)?1518500249:(a<40)?1859775393:(a<60)?-1894007588:-899497514;}vizhash={textHash:function(d){var a={};function c(f){var e=hex_sha1(f)+hex_md5(f);return e+e.split("").reverse().join("");}function b(){var g=a.value;var e=[];for(var f=0;f<g.length;f+=2){e.push(parseInt(g.substr(f,2),16));}return e;}a.toString=function(){return a.value;};a.value=c(d);a.intArray=function(){var e={values:b(),index:0};e.next=function(){var f=e.values[e.index];e.index+=1;e.index%=e.values.length;return f;};return e;}();return a;},canvasHash:function(o,a,p){if(a>256||p>256){throw"Max image size is 256 x 256";}var g={hash:vizhash.textHash(o)},k=g.hash.intArray,f=vizhash.color(k.next(),k.next(),k.next());a=g.width=a||80;p=g.height=p||80;var c=g.canvas=vizhash.createCanvas(a,p);var b=g.context=c.getContext("2d");function n(){var r=k.next();return a*r/256;}function j(){var r=k.next();return p*r/256;}function m(t,A,w,s,H,z){var F=A-s/2,E=w-H/2,D=0.5522848;var v=(s/2)*D,r=(H/2)*D,G=F+s,C=E+H,B=F+s/2,u=E+H/2;t.beginPath();t.moveTo(F,u);t.bezierCurveTo(F,u-r,B-v,E,B,E);t.bezierCurveTo(B+v,E,G,u-r,G,u);t.bezierCurveTo(G,u+r,B+v,C,B,C);t.bezierCurveTo(B-v,C,F,u+r,F,u);t.fillStyle=z.toString();t.fill();t.closePath();}function q(t,u,r){t.beginPath();for(var s=0;s<u.length;s=s+2){t.lineTo(u[s],u[s+1]);}t.fillStyle=r.toString();t.fill();t.closePath();}function i(u,x,w,v,r,y,s,t){u.beginPath();u.arc(x,w,v/2,y,s,false);u.fillStyle=t.toString();u.fill();u.closePath();}function h(v,t,w,s,u,r){v.beginPath();v.rect(t,w,s-t,u-w);v.fillStyle=r.toString();v.fill();v.closePath();}function d(){if(k.next()%2){var r=b.createLinearGradient(0,0,0,p);}else{var r=b.createLinearGradient(0,0,a,p);}r.addColorStop(0,f.toString());r.addColorStop(1,"rgb(0,0,0)");b.rect(0,0,a,p);b.fillStyle=r;b.fill();}function l(t,s){switch(t%7){case 0:h(b,n(),j(),n(),j(),s);break;case 1:case 2:m(b,n(),j(),n(),j(),s);break;case 3:var u=[n(),j(),n(),j(),n(),j(),n(),j()];q(b,u,s);break;case 4:case 5:case 6:var v=k.next()*2*Math.PI/256;var r=v+k.next()*Math.PI/256;i(b,n(),j(),n(),j(),v,r,s);break;}}function e(){for(var t=0;t<=7;t++){var s=k.next();f.r=Math.round((f.r+k.next()/25)%256);f.g=Math.round((f.g+k.next()/25)%256);f.b=Math.round((f.b+k.next()/25)%256);l(s,f);}var r=vizhash.color(k.next(),k.next(),k.next());l(k.next(),r);}g.toImage=function(){var r=document.createElement("img");r.src=c.toDataURL("image/png");return r;};d();e();return g;},createCanvas:function(c,a){var b=document.createElement("canvas");b.width=c;b.height=a;return b;},supportCanvas:function(){var a=document.createElement("canvas");return !!(a.getContext&&a.getContext("2d"));},color:function(e,d,a){var c={r:e,g:d,b:a};c.toString=function(){return"rgb("+c.r+","+c.g+","+c.b+")";};return c;}};sjcl.random.startCollectors();function secondsToHuman(seconds){if(seconds<60){var v=Math.floor(seconds);return v+" second"+((v>1)?"s":"");}if(seconds<60*60){var v=Math.floor(seconds/60);return v+" minute"+((v>1)?"s":"");}if(seconds<60*60*24){var v=Math.floor(seconds/(60*60));return v+" hour"+((v>1)?"s":"");}if(seconds<60*60*24*60){var v=Math.floor(seconds/(60*60*24));return v+" day"+((v>1)?"s":"");}var v=Math.floor(seconds/(60*60*24*30));return v+" month"+((v>1)?"s":"");}function hashToParameterString(associativeArray){var parameterString="";for(key in associativeArray){if(parameterString===""){parameterString=encodeURIComponent(key);parameterString+="="+encodeURIComponent(associativeArray[key]);}else{parameterString+="&"+encodeURIComponent(key);parameterString+="="+encodeURIComponent(associativeArray[key]);}}parameterString+="&p=p";return parameterString;}function parameterStringToHash(parameterString){var parameterHash={};var parameterArray=parameterString.split("&");for(var i=0;i<parameterArray.length;i++){var pair=parameterArray[i].split("=");var key=decodeURIComponent(pair[0]);var value=decodeURIComponent(pair[1]);parameterHash[key]=value;}return parameterHash;}function getParameterHash(){var hashIndex=window.location.href.indexOf("#");if(hashIndex>=0){return parameterStringToHash(window.location.href.substring(hashIndex+1));}else{return{};}}function compress(message){return Base64.toBase64(RawDeflate.deflate(Base64.utob(message)));}function decompress(data){return Base64.btou(RawDeflate.inflate(Base64.fromBase64(data)));}function zeroCipher(key,message){return sjcl.encrypt(key,compress(message));}function zeroDecipher(key,data){return decompress(sjcl.decrypt(key,data));}function scriptLocation(){var scriptLocation=window.location.href.substring(0,window.location.href.length-window.location.search.length-window.location.hash.length);var hashIndex=scriptLocation.indexOf("#");if(hashIndex!==-1){scriptLocation=scriptLocation.substring(0,hashIndex);}return scriptLocation;}function pasteID(){return window.location.search.substring(1);}function htmlEntities(str){return String(str).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");}function setElementText(element,text){if($("div#oldienotice").is(":visible")){var html=htmlEntities(text).replace(/\n/ig,"\r\n<br>");element.html("<pre>"+html+"</pre>");}else{element.text(text);}}function applySyntaxColoring(){if($("div#cleartext").html().substring(0,11)!="<pre><code>"){$("div#cleartext").html("<pre><code>"+$("div#cleartext").html()+"</code></pre>");}hljs.highlightBlock(document.getElementById("cleartext"));$("div#cleartext").css("padding","0");}function displayMessages(key,comments){try{var cleartext=zeroDecipher(key,comments[0].data);}catch(err){$("div#cleartext").hide();$("button#clonebutton").hide();showError("Could not decrypt data (Wrong key ?)");return;}setElementText($("div#cleartext"),cleartext);urls2links($("div#cleartext"));if(comments[0].meta.syntaxcoloring){applySyntaxColoring();}if(comments[0].meta.expire_date){$("div#remainingtime").removeClass("foryoureyesonly").text("This document will expire in "+secondsToHuman(comments[0].meta.remaining_time)+".").show();}if(comments[0].meta.burnafterreading){$("div#remainingtime").addClass("foryoureyesonly").text("FOR YOUR EYES ONLY.  Don't close this window, this message can't be displayed again.").show();$("button#clonebutton").hide();}if(comments[0].meta.opendiscussion){$("div#comments").html("");for(var i=1;i<comments.length;i++){var comment=comments[i];var cleartext="[Could not decrypt comment ; Wrong key ?]";try{cleartext=zeroDecipher(key,comment.data);}catch(err){}var place=$("div#comments");var cname="div#comment_"+comment.meta.parentid;if($(cname).length){place=$(cname);}var divComment=$('<div class="comment" id="comment_'+comment.meta.commentid+'"><div class="commentmeta"><span class="nickname"></span><span class="commentdate"></span></div><div class="commentdata"></div><button onclick="open_reply($(this),\''+comment.meta.commentid+"');return false;\">Reply</button></div>");setElementText(divComment.find("div.commentdata"),cleartext);urls2links(divComment.find("div.commentdata"));divComment.find("span.nickname").html("<i>(Anonymous)</i>");try{divComment.find("span.nickname").text(zeroDecipher(key,comment.meta.nickname));}catch(err){}divComment.find("span.commentdate").text("  ("+(new Date(comment.meta.postdate*1000).toString())+")").attr("title","CommentID: "+comment.meta.commentid);if(comment.meta.vizhash){divComment.find("span.nickname").before('<img src="'+comment.meta.vizhash+'" class="vizhash" title="Anonymous avatar (Vizhash of the IP address)" />');}place.append(divComment);}$("div#comments").append('<div class="comment"><button onclick="open_reply($(this),\''+pasteID()+"');return false;\">Add comment</button></div>");$("div#discussion").show();}}function open_reply(source,commentid){$("div.reply").remove();source.after('<div class="reply"><input type="text" id="nickname" title="Optional nickname..." value="Optional nickname..." /><textarea id="replymessage" class="replymessage" cols="80" rows="7"></textarea><br><button id="replybutton" onclick="send_comment(\''+commentid+'\');return false;">Post comment</button><div id="replystatus">&nbsp;</div></div>');$("input#nickname").focus(function(){$(this).css("color","#000");if($(this).val()==$(this).attr("title")){$(this).val("");}});$("textarea#replymessage").focus();}function send_comment(parentid){if($("textarea#replymessage").val().length==0){return;}showStatus("Sending comment...",spin=true);var cipherdata=zeroCipher(pageKey(),$("textarea#replymessage").val());var ciphernickname="";var nick=$("input#nickname").val();if(nick!=""&&nick!="Optional nickname..."){ciphernickname=zeroCipher(pageKey(),nick);}var data_to_send={data:cipherdata,parentid:parentid,pasteid:pasteID(),nickname:ciphernickname};$.post(scriptLocation(),data_to_send,"json").error(function(){showError("Comment could not be sent (serveur error or not responding).");}).success(function(data){if(data.status==0){showStatus("Comment posted.");location.reload();}else{if(data.status==1){showError("Could not post comment: "+data.message);}else{showError("Could not post comment.");}}});}function send_data(){if($("textarea#message").val().length==0){return;}if(!sjcl.random.isReady()){showStatus("Sending paste (Please move your mouse for more entropy)...",spin=true);sjcl.random.addEventListener("seeded",function(){send_data();});return;}showStatus("Sending paste...",spin=true);var randomkey=sjcl.codec.base64.fromBits(sjcl.random.randomWords(8,0),0);var cipherdata=zeroCipher(randomkey,$("textarea#message").val());var data_to_send={data:cipherdata,expire:$("select#pasteExpiration").val(),burnafterreading:$("input#burnafterreading").is(":checked")?1:0,opendiscussion:$("input#opendiscussion").is(":checked")?1:0,syntaxcoloring:$("input#syntaxcoloring").is(":checked")?1:0};$.post(scriptLocation(),data_to_send,"json").error(function(){showError("Data could not be sent (serveur error or not responding).");}).success(function(data){if(data.status==0){stateExistingPaste();var url=scriptLocation()+"?"+data.id+"#"+randomkey;var deleteUrl=scriptLocation()+"?pasteid="+data.id+"&deletetoken="+data.deletetoken;showStatus("");$("div#pastelink").html('Your paste is <a id="pasteurl" href="'+url+'">'+url+'</a> <span id="copyhint">(Hit CTRL+C to copy)</span>');$("div#deletelink").html('<a href="'+deleteUrl+'">Delete link</a>');$("div#pasteresult").show();selectText("pasteurl");setElementText($("div#cleartext"),$("textarea#message").val());urls2links($("div#cleartext"));if($("input#syntaxcoloring").is(":checked")){applySyntaxColoring();}showStatus("");}else{if(data.status==1){showError("Could not create paste: "+data.message);}else{showError("Could not create paste.");}}});}function selectText(element){var doc=document,text=doc.getElementById(element),range,selection;if(doc.body.createTextRange){range=doc.body.createTextRange();range.moveToElementText(text);range.select();}else{if(window.getSelection){selection=window.getSelection();range=doc.createRange();range.selectNodeContents(text);selection.removeAllRanges();selection.addRange(range);}}}function stateNewPaste(){$("button#sendbutton").show();$("button#clonebutton").hide();$("button#rawtextbutton").hide();$("div#expiration").show();$("div#remainingtime").hide();$("div#burnafterreadingoption").show();$("div#opendisc").show();$("div#syntaxcoloringoption").show();$("button#newbutton").show();$("div#pasteresult").hide();$("textarea#message").text("");$("textarea#message").show();$("div#cleartext").hide();$("div#message").focus();$("div#discussion").hide();}function stateExistingPaste(){$("button#sendbutton").hide();if($("div#oldienotice").is(":visible")){$("button#clonebutton").hide();}else{$("button#clonebutton").show();}$("button#rawtextbutton").show();$("div#expiration").hide();$("div#burnafterreadingoption").hide();$("div#opendisc").hide();$("div#syntaxcoloringoption").hide();$("button#newbutton").show();$("div#pasteresult").hide();$("textarea#message").hide();$("div#cleartext").show();}function rawText(){history.pushState(document.title,document.title,"document.txt");var paste=$("div#cleartext").text();var newDoc=document.open("text/plain","replace");newDoc.write(paste);newDoc.close();}function clonePaste(){stateNewPaste();history.replaceState(document.title,document.title,scriptLocation());showStatus("");$("textarea#message").text($("div#cleartext").text());}function newPaste(){stateNewPaste();showStatus("");$("textarea#message").text("");}function showError(message){$("div#status").addClass("errorMessage").text(message);$("div#replystatus").addClass("errorMessage").text(message);}function showStatus(message,spin){$("div#replystatus").removeClass("errorMessage");$("div#replystatus").text(message);if(!message){$("div#status").html("&nbsp;");return;}if(message==""){$("div#status").html("&nbsp;");return;}$("div#status").removeClass("errorMessage");$("div#status").text(message);if(spin){var img='<img src="img/busy.gif" style="width:16px;height:9px;margin:0px 4px 0px 0px;" />';$("div#status").prepend(img);$("div#replystatus").prepend(img);}}function urls2links(element){var re=/((http|https|ftp):\/\/[\w?=&.\/-;#@~%+-]+(?![\w\s?&.\/;#~%"=-]*>))/ig;element.html(element.html().replace(re,'<a href="$1" rel="nofollow">$1</a>'));var re=/((magnet):[\w?=&.\/-;#@~%+-]+)/ig;element.html(element.html().replace(re,'<a href="$1">$1</a>'));}function pageKey(){var key=window.location.hash.substring(1);i=key.indexOf("=");if(i>-1){key=key.substring(0,i+1);}i=key.indexOf("&");if(i>-1){key=key.substring(0,i);}if(key.charAt(key.length-1)!=="="){key+="=";}return key;}